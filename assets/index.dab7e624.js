var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,r=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&o(e,t,a[t]);return e},i=(e,l)=>a(e,t(l)),u=(e,a)=>{var t={};for(var o in e)s.call(e,o)&&a.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&l)for(var o of l(e))a.indexOf(o)<0&&n.call(e,o)&&(t[o]=e[o]);return t};import{c,I as d,A as p,o as m,a as b,w as g,b as f,d as h,u as y,T as v,D as k,e as x,f as w,t as V,g as _,h as S,r as U,i as j,p as $,j as q,k as C,l as O,m as D,n as P,q as L,s as A,v as T,x as M,y as B,z as I,F as N,B as E,C as F,E as J,G as R,H as z,J as K,K as W,L as H,M as Y,N as G,O as Q,P as X,Q as Z,R as ee,S as ae,U as te,V as le,W as se,X as ne,Y as oe,Z as re,_ as ie,$ as ue,a0 as ce,a1 as de,a2 as pe,a3 as me,a4 as be,a5 as ge,a6 as fe,a7 as he,a8 as ye,a9 as ve,aa as ke,ab as xe,ac as we,ad as Ve,ae as _e,af as Se,ag as Ue,ah as je,ai as $e,aj as qe,ak as Ce}from"./vendor.6b8a487f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?a.credentials="include":"anonymous"===e.crossorigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();new p({link:c({uri:"http://localhost:5000/api/graphql"}),cache:new d});const Oe={class:"fixed inset-0 z-10 overflow-y-auto"},De={class:"min-h-screen px-4 text-center"},Pe=h("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," â€‹ ",-1),Le={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},Ae={class:"mt-2"},Te={class:"text-sm text-gray-500"},Me={class:"mt-4"},Be={props:{modelValue:Boolean,description:String,title:String,okLabel:String,onOk:null},emits:["update:modelValue"],setup(e,{emit:a}){const t=e;async function l(){t.onOk&&await t.onOk(),a("update:modelValue",!1)}return(t,s)=>(m(),b(y(S),{appear:"",show:e.modelValue,as:"template"},{default:g((()=>[f(y(_),{as:"div",onClose:s[0]||(s[0]=e=>a("update:modelValue",!1))},{default:g((()=>[h("div",Oe,[h("div",De,[f(y(v),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g((()=>[f(y(k),{class:"fixed inset-0"})])),_:1}),Pe,f(y(v),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:g((()=>[h("div",Le,[f(y(x),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:g((()=>[w(V(e.title),1)])),_:1}),h("div",Ae,[h("p",Te,V(e.description),1)]),h("div",Me,[h("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:l},V(e.okLabel),1)])])])),_:1})])])])),_:1})])),_:1},8,["show"]))}};const Ie={id:"main",class:"w-screen"},Ne={setup(e){const a=j(null),t=U({open:!1,title:"",description:"",okLabel:"lanjutkan",onOk:null});return $("currentUser",a),$("notification.show",(e=>{t.open=!0,t.title=e.title,t.description=e.description,t.okLabel=e.okLabel,t.onOk=e.onOk})),(e,a)=>{const l=q("router-view");return m(),C("div",Ie,[f(Be,{modelValue:y(t).open,"onUpdate:modelValue":a[0]||(a[0]=e=>y(t).open=e),title:y(t).title,description:y(t).description,"ok-label":y(t).okLabel,"on-ok":y(t).onOk},null,8,["modelValue","title","description","ok-label","on-ok"]),f(l)])}}};const Ee={};O("data-v-4b869572");const Fe={id:"auth-container",class:"w-screen h-screen flex items-center justify-center"};D(),Ee.render=function(e,a){return m(),C("section",Fe,[P(e.$slots,"default",{},void 0,!0)])},Ee.__scopeId="data-v-4b869572";const Je=L.create({baseURL:"http://localhost:5000"});function Re(e){if(!e.url)throw new Error("url is undefined");const a=j("idle"),t=j(null);let l=null;return{status:a,error:t,post:async function(){a.value="loading";const s=y(e.payload);try{const t=await Je.post(y(e.url),s);return a.value="idle",l&&await l(t.data),t.data}catch(n){console.log(n),a.value="error",t.value=n}},onSuccess:e=>{l=e}}}function ze(e){if(!e.url)throw new Error("url is undefined");console.log(e.url.value);const a=j({type:"loading"});j("idle");let t=null;return{get:async function(l){const s=y(e.params);a.value={type:"loading"};try{const l=await Je.get(y(e.url),{params:s});return a.value={type:"data",data:l.data},t&&t(l.data),l.data}catch(n){let e,t="terjadi kesalahan";n.response&&(e=n.response,t=n.response.data.message),a.value={type:"error",response:e,message:t}}},result:a,onSuccess:e=>{t=e}}}function Ke(e){const a=j("idle");let t=null,l=null;return{status:a,del:async function(e){a.value="loading";try{const l=await Je.delete(y(e));return a.value="idle",t&&t(l.data),l.data}catch(s){l&&l(s),console.log(s),a.value="error"}},onSuccess:e=>{t=e},onError:e=>{l=e}}}function We(e){if(!e.url)throw new Error("url is undefined");const a=j("idle");let t=null,l=null;return{status:a,put:async function(){a.value="loading";try{let l=y(e.payload);e.transformPayload&&(l=e.transformPayload(l));const s=await Je.put(y(e.url),l);return a.value="idle",t&&t(s.data),s.data}catch(s){l&&l(s),console.log(s),a.value="error"}},onSuccess:e=>{t=e},onError:e=>{l=e}}}Je.interceptors.request.use((e=>{const a=localStorage.getItem("quick.token");return a&&(e.headers.Authorization=`Bearer ${a}`),e}),(e=>Promise.reject(e)));const He={class:"card bg-white shadow-2xl"},Ye={class:"card-body"},Ge=h("h2",{class:"card-title"},"Daftar untuk masuk kedalam sistem",-1),Qe={class:"justify-center card-actions"},Xe={key:0},Ze={setup(e){const a=[{value:"man",text:"Pria"},{value:"woman",text:"Wanita"}],t=U({nama:"",gender:"man",username:"",password:"",role:"admin"}),{post:l,status:s}=Re({url:"/auth/signup",payload:t}),n=A();async function o(){await l(),n.push("/auth/login")}return(e,l)=>{const n=q("q-input"),r=q("q-field"),i=q("q-select"),u=q("q-spinner");return m(),b(Ee,null,{default:g((()=>[h("div",He,[h("div",Ye,[Ge,h("form",null,[f(r,{label:"Nama",class:"mb-3"},{default:g((()=>[f(n,{modelValue:y(t).nama,"onUpdate:modelValue":l[0]||(l[0]=e=>y(t).nama=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Gender",class:"mb-3"},{default:g((()=>[f(i,{modelValue:y(t).gender,"onUpdate:modelValue":l[1]||(l[1]=e=>y(t).gender=e),options:a},null,8,["modelValue"])])),_:1}),f(r,{label:"Username",class:"mb-3"},{default:g((()=>[f(n,{modelValue:y(t).username,"onUpdate:modelValue":l[2]||(l[2]=e=>y(t).username=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Password",class:"mb-3"},{default:g((()=>[f(n,{type:"password",modelValue:y(t).password,"onUpdate:modelValue":l[3]||(l[3]=e=>y(t).password=e)},null,8,["modelValue"])])),_:1})]),h("div",Qe,[h("button",{onClick:o,class:"btn btn-primary"},["idle"==y(s)?(m(),C("span",Xe,"signup")):(m(),b(u,{key:1,class:"w-4 h-4"}))])])])])])),_:1})}}},ea={class:"card bg-white shadow-2xl"},aa={class:"card-body"},ta=h("h2",{class:"card-title"},"Daftar untuk masuk kedalam sistem",-1),la={class:"justify-center card-actions"},sa={key:0},na={setup(e){const a=[{value:"man",text:"Pria"},{value:"woman",text:"Wanita"}],t=U({nama:"",gender:"",username:"",password:"",role:"user"}),{post:l,status:s}=Re({url:"/auth/signup",payload:t}),n=A();async function o(){await l(),n.push("/auth/login")}return(e,l)=>{const n=q("q-input"),r=q("q-field"),i=q("q-select"),u=q("q-spinner");return m(),b(Ee,null,{default:g((()=>[h("div",ea,[h("div",aa,[ta,h("form",null,[f(r,{label:"Nama",class:"mb-3"},{default:g((()=>[f(n,{modelValue:y(t).nama,"onUpdate:modelValue":l[0]||(l[0]=e=>y(t).nama=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Gender",class:"mb-3"},{default:g((()=>[f(i,{modelValue:y(t).gender,"onUpdate:modelValue":l[1]||(l[1]=e=>y(t).gender=e),options:a},null,8,["modelValue"])])),_:1}),f(r,{label:"Username",class:"mb-3"},{default:g((()=>[f(n,{modelValue:y(t).username,"onUpdate:modelValue":l[2]||(l[2]=e=>y(t).username=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Password",class:"mb-3"},{default:g((()=>[f(n,{type:"password",modelValue:y(t).password,"onUpdate:modelValue":l[3]||(l[3]=e=>y(t).password=e)},null,8,["modelValue"])])),_:1})]),h("div",la,[h("button",{onClick:o,class:"btn btn-primary"},["idle"==y(s)?(m(),C("span",sa,"signup")):(m(),b(u,{key:1,class:"w-4 h-4"}))])])])])])),_:1})}}},oa={class:"mx-6 card bg-white shadow-2xl"},ra={class:"card-body"},ia=h("h2",{class:"card-title"},"Login untuk masuk kedalam sistem",-1),ua={key:0,class:"text-red-600 font-bold"},ca={class:"justify-center card-actions"},da={key:0},pa={class:"flex-col justify-center items-center card-actions"},ma=h("h4",null,"Belum Punya Akun?",-1),ba=w("Daftar"),ga={setup(e){const a=U({username:"",password:""}),t=T("currentUser"),l=A(),{post:s,status:n,error:o}=Re({url:"/auth/login",payload:a}),r=M((()=>{const e=y(o);if(!e)return null;if(!e.response)return"terjadi kesalahan";if(!e.response.data)return"terjadi kesalahan";switch(e.response.data.code){case"FST_PASSWORD_NOT_MATCH":return"Password tidak cocok";case"FST_USER_NOT_FOUND":return"Username tidak ditemukan";default:return"terjadi kesalahan"}})),i=M((()=>"loading"==n.value)),{get:u}=ze({url:"/auth/me"});async function c(){const e=await s();if(e){await localStorage.setItem("quick.token",e);const a=await u();t.value=a,l.push("/app")}else setTimeout((()=>{alert(r.value)}),500)}return(e,t)=>{const l=q("q-input"),s=q("q-field"),n=q("q-spinner"),o=q("router-link");return m(),b(Ee,null,{default:g((()=>[h("div",oa,[h("div",ra,[ia,y(r)?(m(),C("h4",ua,V(y(r)),1)):B("",!0),h("form",null,[f(s,{label:"Username",class:"mb-3"},{default:g((()=>[f(l,{modelValue:y(a).username,"onUpdate:modelValue":t[0]||(t[0]=e=>y(a).username=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"Password",class:"mb-3"},{default:g((()=>[f(l,{type:"password",modelValue:y(a).password,"onUpdate:modelValue":t[1]||(t[1]=e=>y(a).password=e)},null,8,["modelValue"])])),_:1})]),h("div",ca,[h("button",{onClick:c,class:"btn btn-primary"},[y(i)?(m(),b(n,{key:1,class:"w-4 h-4"})):(m(),C("span",da,"login"))])]),h("div",pa,[ma,f(o,{to:"/auth/signup_user",class:"underline font-bold text-blue-800"},{default:g((()=>[ba])),_:1})])])])])),_:1})}}},fa={},ha={class:"flex items-center justify-center h-12"},ya=[h("h3",{class:"font-medium"},"Copyright Dedi Nubatonis, 2021",-1)];fa.render=function(e,a){return m(),C("footer",ha,ya)};const va={};O("data-v-442122e3");const ka={id:"hero",class:"flex flex-col text-white",style:{height:"calc(100vh - 7rem)"}},xa={class:"flex-grow flex flex-col items-center justify-center"},wa=h("h1",{class:"font-mono text-6xl font-black text-center"},"Simpan Semua Memori",-1),Va=w("tentukan lokasi anda");D(),va.render=function(e,a){const t=q("router-link");return m(),C("section",ka,[h("div",xa,[wa,f(t,{to:"/auth/login",class:"btn bg-pink-600"},{default:g((()=>[Va])),_:1})])])},va.__scopeId="data-v-442122e3";const _a={},Sa={id:"sec-about",class:"bg-gray-100 py-12 md:py-0 md:h-screen flex flex-col items-center justify-center"},Ua=[h("h3",{class:"font-bold text-3xl text-center"},"Studio Quick Photography Kupang",-1),h("h2",{class:"text-xl text-yellow-800 tracking-widest uppercase text-center mt-12 mb-4"},"Alamat: RJXC+9QP, Klp. Lima, Kota Kupang, Nusa Tenggara Tim",-1),h("h2",{class:"text-xl text-yellow-800 tracking-widest uppercase text-center mb-4"},"Telepon: 0811-3834-040",-1),h("iframe",{id:"gmap_canvas",src:"https://maps.google.com/maps?q=RJXC+9QP,%20Klp.%20Lima,%20Kota%20Kupang,%20Nusa%20Tenggara%20Tim.&t=&z=13&ie=UTF8&iwloc=&output=embed",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",style:{width:"100%",height:"50vh"}},"\r\n    ",-1)];_a.render=function(e,a){return m(),C("section",Sa,Ua)};const ja={id:"sec-fotografer",class:"py-12 md:py-12 flex flex-col items-center justify-center"},$a=h("h2",{class:"text-xl text-yellow-400 tracking-widest uppercase text-center"},"Daftar Photographer",-1),qa=h("h3",{class:"font-bold text-3xl text-center"},"Daftar Fotografer Pada Quick Photography",-1),Ca={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-y-2 gap-x-2 md:container md:mx-auto w-full my-6"},Oa={class:"text-white font-black text-xl"},Da={setup(e){const{get:a,result:t}=ze({url:"/v1/api/photographers"});return I(a),(e,a)=>(m(),C("section",ja,[$a,qa,"data"==y(t).type?(m(),C("div",Ca,[(m(!0),C(N,null,E(y(t).data,(e=>(m(),C("div",{key:e._id,style:F(`background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('${e.avatar}'); background-position: center; background-size: cover;`),class:"h-60 flex items-center justify-center"},[h("h1",Oa,V(e.nama),1)],4)))),128))])):B("",!0)]))}},Pa={id:"sec-lokasi",class:"bg-gray-100 py-12 md:py-12 flex flex-col items-center justify-center"},La=h("h2",{class:"text-xl text-yellow-400 tracking-widest uppercase text-center"},"Lokasi Foto",-1),Aa=h("h3",{class:"font-bold text-3xl text-center"},"Daftar Lokasi Foto Prewedding",-1),Ta={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-y-2 gap-x-2 md:container md:mx-auto my-6 w-full"},Ma={class:"text-white font-black text-xl"},Ba={setup(e){const{get:a,result:t}=ze({url:"/v1/api/locations"});return I(a),(e,a)=>(m(),C("section",Pa,[La,Aa,"data"==y(t).type?(m(),C("div",Ta,[(m(!0),C(N,null,E(y(t).data,(e=>(m(),C("div",{key:e._id,style:F(`background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('${e.avatar}'); background-position: center; background-size: cover;`),class:"h-60 flex items-center justify-center"},[h("h1",Ma,V(e.nama),1)],4)))),128))])):B("",!0)]))}},Ia={class:"w-4/5 h-28 flex items-center mx-auto"},Na=h("h1",{class:"flex-grow font-black text-2xl"},[h("span",{class:"text-pink-600"},"quick"),w(" photography")],-1),Ea={class:"hidden md:flex w-2/5 items-center justify-between"},Fa=["onClick"],Ja={key:0,class:"flex flex-col text-white md:hidden px-8"},Ra=["onClick"],za={class:"py-6 bg-gray-100 text-center"},Ka=w("login Admin"),Wa={setup(e){const a=j(!1),t=[{path:"/#",label:"home",target:"hero"},{path:"/#",label:"lokasi",target:"lokasi"},{path:"/#",label:"fotografer",target:"fotografer"},{path:"/#",label:"tentang kami",target:"about"}];function l(e){window.document.querySelector(`#sec-${e}`).scrollIntoView({behavior:"smooth"})}return(e,s)=>{const n=q("router-link");return m(),C(N,null,[h("nav",Ia,[Na,h("div",Ea,[(m(),C(N,null,E(t,(e=>h("button",{class:"hover:text-pink-400 text-pink-700 font-bold",key:e.label,onClick:a=>l(e.target)},V(e.label),9,Fa))),64))]),h("button",{class:"md:hidden p-2",onClick:s[0]||(s[0]=(...a)=>e.toggleMobileMenu&&e.toggleMobileMenu(...a))},[f(y(J),{class:"w-6 h-6"})])]),a.value?(m(),C("nav",Ja,[(m(),C(N,null,E(t,(e=>h("button",{class:"hover:text-pink-400 text-pink-700 font-bold text-xl text-left mb-4",key:e.label,onClick:a=>l(e.target)},V(e.label),9,Ra))),64))])):B("",!0),f(va),f(Ba),f(Da),f(_a),f(fa),h("div",za,[f(n,{to:"/auth/login",class:"font-bold text-blue-600"},{default:g((()=>[Ka])),_:1})])],64)}}};function Ha(){const e=T("currentUser"),{get:a,result:t}=ze({url:"/auth/me"}),l=M((()=>t.value.type)),s=A();return{getCurrentUser:a,currentUser:e,status:l,loadUser:async function(){const t=await a();t?e.value=t:s.replace("/auth/login")}}}const Ya={class:"py-6 px-3 md:px-8 md:py-0 md:h-20 border-b border-gray-200"},Ga={class:"flex-grow mb-4 md:mb-0"},Qa={class:"text-2xl font-bold text-gray-700",style:{"line-height":"100%"}},Xa={class:"text-gray-700"},Za={class:"flex items-center"},et=[h("span",null,"edit data bobot anda",-1)],at={key:0},tt={props:{title:String,subtitle:String},setup(e){R();const a=A(),{currentUser:t,loadUser:l}=Ha(),s=M((()=>t.value?t.value.currentSession:null)),{post:n,status:o}=Re({url:"/v1/api/sessions",payload:{}}),r=M((()=>{const e=y(t);return"admin"!=e.role&&"photographer"!=e.role&&!e.currentSession}));async function i(){const e=y(t).currentSession;a.push(`/app/sessionv3/${e._id}`)}return(a,l)=>{const n=q("q-spinner"),u=q("router-link");return m(),C("div",Ya,[h("div",Ga,[h("h1",Qa,V(e.title),1),h("h2",Xa,V(e.subtitle),1)]),P(a.$slots,"actions"),h("div",Za,[y(t)&&"photographer"!=y(t).role&&"admin"!=y(t).role?(m(),C(N,{key:0},[y(s)?(m(),C("button",{key:0,onClick:i,class:"btn btn-info flex my-2 md:ml-4",tag:"button"},et)):B("",!0),y(r)?(m(),b(u,{key:1,to:"/app/sessions/new",class:"btn btn-info flex my-2 md:ml-4"},{default:g((()=>["loading"!=y(o)?(m(),C("span",at,"tentukan lokasi")):(m(),b(n,{key:1,class:"w-4 h-4"}))])),_:1})):B("",!0)],64)):B("",!0)])])}}},lt={},st={class:"px-4 md:px-8 py-4 md:py-12 flex-grow"};lt.render=function(e,a){return m(),C("div",st,[P(e.$slots,"default")])};const nt={class:"text-2xl text-gray-500 mb-2"},ot={class:"flex flex-col justify-center"},rt=h("label",{class:"text-2xl text-gray-500 mb-2"},"Jenis Kelamin Anda...",-1),it={class:"flex items-center"},ut={class:"flex items-center mr-8"},ct=h("label",null,"Laki - Laki",-1),dt={class:"flex items-center"},pt=h("label",null,"Perempuan",-1),mt={class:"flex justify-center"},bt={props:{label:{type:String,default:"Anda"},name:String,gender:String,back:{type:Boolean,default:!1}},emits:["done","back"],setup(e,{emit:a}){const t=e,l=U({gender:"man",name:""});function s(){a("done",{payload:r({},l),type:"personal"})}return I((()=>{const e=t,{back:a}=e,s=u(e,["back"]);console.log(s),Object.assign(l,s)})),(a,t)=>(m(),C(N,null,[h("div",null,[h("label",nt,"Nama "+V(e.label)+"...",1),z(h("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>y(l).name=e),type:"text",class:"appearance-none border-b border-gray-300 py-2 px-2 w-full text-xl font-medium focus:outline-none mb-10"},null,512),[[K,y(l).name]])]),h("div",ot,[rt,h("div",it,[h("div",ut,[z(h("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=e=>y(l).gender=e),value:"man",class:"mr-2"},null,512),[[W,y(l).gender]]),ct]),h("div",dt,[z(h("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>y(l).gender=e),type:"radio",value:"woman",class:"mr-2"},null,512),[[W,y(l).gender]]),pt])]),h("div",mt,[h("button",{onClick:s,class:"btn btn-primary my-12"}," Selanjutnya "),h("button",{onClick:t[3]||(t[3]=e=>a.$emit("back")),class:"btn btn-ghost my-12"}," Kembali ")])])],64))}},gt=h("h1",{class:"text-2xl text-gray-500 text-center mb-12"},"Input Bobot Kriteria ",-1),ft=h("h1",{class:"text-xl font-medium text-gray-700 text-center mb-12"},"Silahkan Masukan Nilai Bobot maksimal 100",-1),ht={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yt={props:{label:{type:String,default:"Anda"},selected:{type:Array,default:[]}},emits:["done","back"],setup(e,{emit:a}){const t=e,l=U([{label:"Jarak",value:"distance"},{label:"Transportasi",value:"transportation"},{label:"Harga",value:"price"},{label:"Tema",value:"theme"},{label:"Waktu",value:"waktu"},{label:"Jumlah Spot",value:"numberOfSpots"}].map((e=>i(r({},e),{selected:!1}))));M((()=>l.map((e=>e.selected)).filter((e=>e)).length));const s=U([{label:"jarak",key:"distance",value:1},{label:"transportasi",key:"transportation",value:1},{label:"harga",key:"price",value:1},{label:"tema",key:"theme",value:1},{label:"waktu",key:"waktu",value:1},{label:"jumlah spot",key:"numberOfSpots",value:1}]);function n(){let e={};for(let a of s)e[a.key]=a.value;a("done",{payload:e,type:"criteria"})}return I((()=>{l.forEach((e=>{t.selected.includes(e.value)&&(e.selected=!0)}))})),(e,a)=>{const t=q("q-input"),l=q("q-field");return m(),C(N,null,[gt,ft,h("div",ht,[(m(!0),C(N,null,E(y(s),(e=>(m(),b(l,{label:e.label,class:"mb-4"},{default:g((()=>[f(t,{type:"number",modelValue:e.value,"onUpdate:modelValue":a=>e.value=a},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"])))),256))]),h("div",{class:"flex justify-center"},[h("button",{onClick:n,class:"btn btn-primary my-12"}," Selanjutnya ")])],64)}}};function vt(e){let a=[];return e[0]<=4?a.push(4):e[0]>4&&e[0]<7?a.push(3):e[0]>=7&&e[0]<11?a.push(2):a.push(1),e[1]>=10?a.push(4):e[1]>=8&&e[1]<10?a.push(3):e[1]>=6&&e[1]<8?a.push(2):a.push(1),e[2]>1e6?a.push(1):e[2]>=7e5&&e[2]<1e6?a.push(2):e[2]>=4e5&&e[2]<7e5?a.push(3):a.push(4),"car"==e[3]?a.push(2):a.push(1),"outdoor"==e[4]?a.push(2):a.push(1),a.push(e[5]),a}function kt({data:e,weights:a}){a.reduce(((e,a)=>e+a),0);const t=[100,1,1,1,1,1],l=e.map((e=>e.map((e=>Math.pow(e,2))))),s=[0,0,0,0,0,0];for(let c=0;c<6;c++)s[c]=Math.sqrt(Math.pow(l.map((e=>e[c])).reduce(((e,a)=>e+a),0),2));const n=e.map((e=>e.map(((e,a)=>e/s[a])))).map((e=>e.map(((e,a)=>e*t[a])))),o={"-":[0,0,0,0,0,0],"+":[0,0,0,0,0,0]};for(let c=0;c<6;c++){const e=n.map((e=>e[c])),a=Math.min(...e),t=Math.max(...e);o["-"][c]=a,o["+"][c]=t}const r=n.map((e=>Math.sqrt(e.map(((e,a)=>Math.pow(e-o["+"][a],2))).reduce(((e,a)=>e+a),0))));console.log("D_plus"),console.log(r);const i=n.map((e=>Math.sqrt(e.map(((e,a)=>Math.pow(e-o["-"][a],2))).reduce(((e,a)=>e+a),0))));console.log("D_min"),console.log(i);let u=i.map(((e,a)=>e/(e+r[a])));console.log("prefs"),console.log(u),u=u.map(((e,a)=>({p:e,i:a}))),u.sort(((e,a)=>e.p-a.p)),u.reverse();return u.map(((e,a)=>({p:e.p*(u.length-a),i:e.i})))}const xt={key:0,class:"w-full md:w-3/5 mx-auto"},wt={key:2,class:"text-center"},Vt={class:"block text-4xl text-gray-500 mb-4 font-black"},_t=h("h2",{class:"text-3xl text-gray-700 mb-4"},"Lokasi yang disarankan sistem",-1),St=["href"],Ut={setup(e){const a=j([0,0]),t=j(!1),l=j(null),s=M((()=>l.value?`https://www.google.co.id/maps/@${l.value.latitude},${l.value.longitude},15z`:"")),n=j(0),o=U([]),{get:i,result:u,onSuccess:c}=ze({url:"/v1/api/locations"}),d=M((()=>"data"!=u.value.type?[]:u.value.data)),p=M((()=>n.value<o.length?o[n.value]:null)),{calculateDistance:v}=function(){const e=new H.Matrix({api_key:"5b3ce3597851110001cf6248b894943345a84b998fb6c7a79ba5d814"});return{calculateDistance:async function(a,t,l){let s="";switch(l){case"bike":s="cycling-electric";break;case"car":case"rental-car":s="driving-car";break;default:throw new Error(`unknown transportation mode: ${l}`)}return(await e.calculate({locations:[a,t],profile:s,sources:["all"],destinations:["all"],units:"km",metrics:["distance"]})).distances[0][1]}}}();$("position",a),$("calculateDistance",v),c((e=>{o.push({payload:{},type:"criteria"}),o.push({payload:{name:"",gender:"man"},type:"personal"}),o.push({payload:{},type:"criteria"}),o.push({payload:{name:"",gender:"woman"},type:"personal"}),o.push({payload:{},type:"criteria"}),t.value=!0}));const k=M((()=>n.value==o.length-1?"Fotografer":n.value>0?"Pasangan Anda":"Anda"));function x(){const e=function(){const e={man:null,woman:null,location:null};for(let a of o)"personal"==a.type&&(e.man?e.woman=a.payload.name:e.man=a.payload.name);return e.location=r({},l.value),e}();Je.post("/v1/api/sessions",e).catch((e=>{console.log(e)}))}function w(){const{altValues:e,weights:a}=function(){const e=[];for(let t=0;t<o.length;t++){const a=o[t];switch(a.type){case"criteria":e.push([a.payload.distance,a.payload.numberOfSpots,a.payload.price,a.payload.transportation,a.payload.theme,a.payload.waktu])}}function a(){return d.value.map((e=>[e.distance,e.numberOfSpots,parseInt(e.price.$numberDecimal),e.transportation,e.theme,e.waktu]))}return{altValues:[a(),a(),a()],weights:e}}();let t=[];for(let l=0;l<3;l++){const s=e[l],n=a[l],o=kt({data:s.map(vt),weights:n});t.push(o)}const s=d.value.length;let n=[];for(let l=0;l<s;l++){let e=[];for(let a=0;a<s;a++){let n=0;t.forEach((e=>{e[a].i==l&&(n+=e[a].p*(s-a))})),e.push(n)}n.push(e.reduce(((e,a)=>e+a),0))}const r=n.reduce(((e,a)=>e+a),0),i=n.map((e=>e/r)).map(((e,a)=>({b:e,i:a})));i.sort(((e,a)=>e.b-a.b)),i.reverse();const c=i[0];return l.value=u.value.data[c.i],x(),c}const _=U({step:0,items:[{name:"",gender:"man",weights:{}},{name:"",gender:"woman",weights:{}}]}),{post:S}=Re({payload:_,url:"/v1/api/sessions/current"}),{get:O}=ze({url:"/v1/api/sessions/current"});async function D(e){o[n.value]=e,n.value,await async function(e){const a=n.value,t=[{name:o[1].payload.name,gender:o[1].payload.gender,weights:o[0].payload},{name:o[3].payload.name,gender:o[3].payload.gender,weights:o[2].payload}];_.items=t,_.step=a,console.log("formItems"),console.log(o),console.log("items"),console.log(t),await S()}(e.payload),n.value+=1,n.value==o.length&&w()}function P(){n.value-=1}return I((async()=>{await i(),await async function(){const e=await O();!isNaN(e.step)&&e.items&&(o[0].payload=e.items[0].weights,o[1].payload.name=e.items[0].name,o[1].payload.gender=e.items[0].gender,o[2].payload=e.items[1].weights,o[3].payload.name=e.items[1].name,o[3].payload.gender=e.items[1].gender,n.value=e.step)}()})),(e,a)=>{const o=q("q-loading");return m(),C(N,null,[f(tt,{title:"Penentuan Lokasi",subtitle:"Menentukan Lokasi Berdasarkan Preferensi Anda"}),f(lt,null,{default:g((()=>[t.value?(m(),C("div",xt,[y(p)&&!l.value?(m(),C(N,{key:0},["criteria"==y(p).type?(m(),b(yt,Y({key:0},y(p).payload,{label:y(k),onDone:D}),null,16,["label"])):B("",!0),"personal"==y(p).type?(m(),b(bt,Y({key:1,back:0!=n.value,label:n.value>0?"Pasangan Anda":"Anda"},y(p).payload,{onBack:P,onDone:D}),null,16,["back","label"])):B("",!0)],64)):(m(),b(o,{key:1})),l.value?(m(),C("div",wt,[h("h1",Vt,V(l.value.nama),1),_t,h("a",{href:y(s),target:"_blank"},"Buka Di Google Map",8,St)])):B("",!0)])):B("",!0)])),_:1})],64)}}},jt={class:"w-4/5 h-28 flex items-center mx-auto"},$t=h("h1",{class:"flex-grow font-black text-2xl"},[h("span",{class:"text-pink-600"},"quick"),w(" photography")],-1),qt={class:"hidden md:flex w-2/5 items-center justify-between"},Ct=["onClick"],Ot={key:0,class:"flex flex-col text-white md:hidden px-8"},Dt=["onClick"],Pt={class:"py-6 bg-gray-100 text-center"},Lt=w("login Admin"),At={setup(e){const a=j(!1),t=[{path:"/#",label:"home",target:"hero"},{path:"/#",label:"lokasi",target:"lokasi"},{path:"/#",label:"fotografer",target:"fotografer"},{path:"/#",label:"tentang kami",target:"about"}];function l(e){window.document.querySelector(`#sec-${e}`).scrollIntoView({behavior:"smooth"})}return(e,s)=>{const n=q("router-link");return m(),C(N,null,[h("nav",jt,[$t,h("div",qt,[(m(),C(N,null,E(t,(e=>h("button",{class:"hover:text-pink-400 text-pink-700 font-bold",key:e.label,onClick:a=>l(e.target)},V(e.label),9,Ct))),64))]),h("button",{class:"md:hidden p-2",onClick:s[0]||(s[0]=(...a)=>e.toggleMobileMenu&&e.toggleMobileMenu(...a))},[f(y(J),{class:"w-6 h-6"})])]),a.value?(m(),C("nav",Ot,[(m(),C(N,null,E(t,(e=>h("button",{class:"hover:text-pink-400 text-pink-700 font-bold text-xl text-left mb-4",key:e.label,onClick:a=>l(e.target)},V(e.label),9,Dt))),64))])):B("",!0),f(Ut),f(_a),f(fa),h("div",Pt,[f(n,{to:"/auth/login",class:"font-bold text-blue-600"},{default:g((()=>[Lt])),_:1})])],64)}}};function Tt(){const e=T("currentUser"),a=[{path:"/app/dashboard",label:"Dashboard",icon:Q},{path:"/app/fotografer",label:"Fotografer",icon:X},{path:"/app/lokasi",label:"Lokasi",icon:Z},{path:"/app/session",label:"Session",icon:G},{path:"/app/account",label:"Akun",icon:G}],t=[...a,{path:"/app/survey-result",label:"Hasil Survey",icon:G}],l=[...a,{path:"/app/survey",label:"Survey",icon:G}];return{menus:M((()=>{const a=e.value;return a&&"admin"==a.role?t:l}))}}const Mt={class:"lowercase text-lg font-bold"},Bt={setup(e){const{menus:a}=Tt();return(e,t)=>{const l=q("router-link");return m(),C("ul",null,[(m(!0),C(N,null,E(y(a),(e=>(m(),C("li",{key:e.path},[f(l,{to:e.path,class:"flex items-center justify-start py-4 px-4 text-gray-200 hover:bg-gray-600"},{default:g((()=>[e.icon?(m(),b(ee(e.icon),{key:0,class:"mr-4 w-6 h-6"})):B("",!0),h("span",Mt,V(e.label),1)])),_:2},1032,["to"])])))),128))])}}};const It={key:0},Nt={key:1},Et={class:"block md:hidden bg-indigo-900"},Ft={class:"h-16 flex items-center justify-between"},Jt=w(" Quick Photography "),Rt={key:0,class:"flex flex-col items-start p-4"},zt={class:"lowercase text-lg font-bold"},Kt=h("span",{class:"lowercase text-lg font-bold"},"Logout",-1),Wt={class:"hidden md:flex fixed md:w-64 top-0 bottom-0 left-0 bg-gray-800 flex-col"},Ht=w(" Quick Photography "),Yt=h("span",{class:"lowercase text-lg font-bold"},"Logout",-1),Gt={class:""},Qt={class:"fixed inset-0 z-10 overflow-y-auto"},Xt={class:"min-h-screen px-4 text-center"},Zt=h("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," â€‹ ",-1),el={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},al={class:"mt-2"},tl={class:"text-sm text-gray-500"},ll={class:"mt-4"},sl={setup(e){const a=j(!1),t=()=>{var e;e=!1,a.value=e},l=j(""),s=j(""),n=j((()=>{})),{menus:o}=Tt(),r=A(),{currentUser:i,status:u,loadUser:c}=Ha(),d=j(!1);function p(){d.value=!d.value}function U(){localStorage.removeItem("quick.token"),i.value=null,r.replace("/")}return $("alert",(e=>{n.value=async()=>{await e.onYes(),t()},l.value=e.title,s.value=e.description,a.value=!0})),I(c),(e,r)=>{const c=q("router-link"),j=q("router-view");return m(),C(N,null,["loading"!=y(u)||y(i)?y(i)?(m(),C("div",Nt,[h("nav",Et,[h("div",Ft,[f(c,{to:"/app",class:"block h-16 px-4 font-bold text-xl bg-indigo-900 flex items-center text-gray-100"},{default:g((()=>[Jt])),_:1}),h("button",{onClick:p,class:"flex items-center justify-start py-4 px-4 text-gray-200"},[f(y(J),{class:"mr-4 w-6 h-6"})])]),d.value?(m(),C("ul",Rt,[(m(!0),C(N,null,E(y(o),(e=>(m(),C("li",null,[f(c,{to:e.path,class:"flex items-center justify-start py-4 px-4 text-gray-200 hover:bg-gray-600"},{default:g((()=>[e.icon?(m(),b(ee(e.icon),{key:0,class:"mr-4 w-6 h-6"})):B("",!0),h("span",zt,V(e.label),1)])),_:2},1032,["to"])])))),256)),h("button",{onClick:U,class:"flex items-center justify-start py-4 px-4 text-gray-200 hover:bg-gray-600"},[f(y(ae),{class:"mr-4 w-6 h-6"}),Kt])])):B("",!0)]),h("nav",Wt,[f(c,{to:"/app",class:"block h-20 px-4 font-bold text-xl bg-indigo-900 flex items-center text-gray-100"},{default:g((()=>[Ht])),_:1}),f(Bt,{class:"flex-grow"}),h("button",{onClick:U,class:"flex items-center justify-start py-4 px-4 text-gray-200 hover:bg-gray-600"},[f(y(ae),{class:"mr-4 w-6 h-6"}),Yt])]),h("div",Gt,[f(j)])])):B("",!0):(m(),C("div",It)),f(y(S),{appear:"",show:a.value,as:"template"},{default:g((()=>[f(y(_),{as:"div",onClose:t},{default:g((()=>[h("div",Qt,[h("div",Xt,[f(y(v),{enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-30",leave:"duration-200 ease-in","leave-from":"opacity-30","leave-to":"opacity-0"},{default:g((()=>[f(y(k),{class:"fixed inset-0 bg-black opacity-30"})])),_:1}),Zt,f(y(v),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:g((()=>[h("div",el,[f(y(x),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:g((()=>[w(V(l.value),1)])),_:1}),h("div",al,[h("p",tl,V(s.value),1)]),h("div",ll,[h("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 mr-2",onClick:t}," Batalkan "),h("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-red-900 bg-red-100 border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ringred-500",onClick:r[0]||(r[0]=(...e)=>n.value&&n.value(...e))}," Lanjutkan ")])])])),_:1})])])])),_:1})])),_:1},8,["show"])],64)}}},nl={class:"font-medium"},ol={class:"text-sm"},rl={props:{id:String,name:String,jarak:Number,spots:Number},setup:e=>(a,t)=>{const l=q("router-link");return m(),b(l,{to:`/app/spots/${e.id}`,class:"flex items-center px-4 py-4 border-b border-gray-200"},{default:g((()=>[h("img",{src:"https://source.unsplash.com/random",class:"h-12 w-12 mr-2"}),h("div",null,[h("h4",nl,V(e.name),1),h("h5",ol,"Jarak "+V(e.jarak)+" km, "+V(e.spots)+" jumlah spot",1)])])),_:1},8,["to"])}},il={key:1},ul={setup(e){const{result:a,get:t}=ze({url:"/spots"});return I(t),(e,t)=>{const l=q("router-link"),s=q("q-action-bar"),n=q("q-loading-pane");return m(),C(N,null,[f(s,{title:"Spot",subtitle:"daftar spot yang tersedia"},{actions:g((()=>[f(l,{to:"/app/spots/create"},{default:g((()=>[f(y(te),{class:"w-8 h-8 text-purple-500"})])),_:1})])),_:1}),"loading"==y(a).type?(m(),b(n,{key:0})):"data"==y(a).type?(m(),C("ul",il,[(m(!0),C(N,null,E(y(a).items,(e=>(m(),b(rl,{key:e._id,name:e.name,id:e._id,jarak:e.c1,spots:e.c2},null,8,["name","id","jarak","spots"])))),128))])):B("",!0)],64)}}},cl=[{text:"Mobil Pribadi",value:3},{text:"Rental Mobil",value:2},{text:"Motor",value:1}],dl=[{text:"Outdoor",value:4},{text:"Indoor",value:2}],pl=[{text:"< 24 jam",value:4},{text:">= 24 jam",value:2}],ml={props:{initialData:{type:Object,default:{name:"",c1:1,c2:1,c3:1,c4:1,c5:1,c6:1}}},emits:["update:payload"],setup(e,{emit:a}){const t=U(e.initialData);return le(t,(e=>{a("update:payload",r({},e))})),(e,a)=>{const l=q("q-input"),s=q("q-field"),n=q("q-select");return m(),C("form",null,[f(s,{label:"Nama Lokasi",class:"mb-4"},{default:g((()=>[f(l,{modelValue:y(t).name,"onUpdate:modelValue":a[0]||(a[0]=e=>y(t).name=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"Jarak",class:"mb-4"},{default:g((()=>[f(l,{type:"number",min:1,modelValue:y(t).c1,"onUpdate:modelValue":a[1]||(a[1]=e=>y(t).c1=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"Jumlah Spot",class:"mb-4"},{default:g((()=>[f(l,{type:"number",min:1,modelValue:y(t).c2,"onUpdate:modelValue":a[2]||(a[2]=e=>y(t).c2=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"Biaya",class:"mb-4"},{default:g((()=>[f(l,{type:"number",min:1,modelValue:y(t).c3,"onUpdate:modelValue":a[3]||(a[3]=e=>y(t).c3=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"Transportasi",class:"mb-4"},{default:g((()=>[f(n,{modelValue:y(t).c4,"onUpdate:modelValue":a[4]||(a[4]=e=>y(t).c4=e),options:y(cl),"parse-value":""},null,8,["modelValue","options"])])),_:1}),f(s,{label:"Tema",class:"mb-4"},{default:g((()=>[f(n,{modelValue:y(t).c5,"onUpdate:modelValue":a[5]||(a[5]=e=>y(t).c5=e),options:y(dl),"parse-value":""},null,8,["modelValue","options"])])),_:1}),f(s,{label:"Waktu",class:"mb-4"},{default:g((()=>[f(n,{modelValue:y(t).c6,"onUpdate:modelValue":a[6]||(a[6]=e=>y(t).c6=e),options:y(pl),"parse-value":""},null,8,["modelValue","options"])])),_:1})])}}},bl={class:"flex"},gl={setup(e){const a=A(),{post:t,status:l}=Re({url:"/spots",initialData:{name:"",c1:1,c2:1,c3:1,c4:1,c5:1,c6:1}}),s=j({});function n(e){s.value=e}async function o(){await t(s.value),a.back()}const r=M((()=>"loading"==l.value));return(e,a)=>{const t=q("q-action-bar"),l=q("q-pad-container"),s=q("q-form-btn");return m(),C(N,null,[f(t,{title:"Tambah Spot",subtitle:"Tambahkan data spot kedalam sistem"}),f(l,null,{default:g((()=>[f(ml,{"onUpdate:payload":n})])),_:1}),h("div",bl,[f(s,{onClick:o,loading:y(r),label:"Submit"},null,8,["loading"])])],64)}}},fl={class:"py-2 border-b border-gray-200 flex justify-between items-center"},hl={class:"text-gray-700"},yl={class:"text-lg"},vl={props:{label:null,value:null},setup:e=>(a,t)=>(m(),C("div",fl,[h("div",hl,V(e.label),1),h("div",yl,V(e.value),1)]))},kl={props:{id:String},setup(e){const a=e,t=M((()=>`/spots/${a.id}`)),{result:l,get:s}=ze({url:t}),n=M((()=>{const e=y(l);if("data"!=e.type)return null;return{transportasi:cl.find((a=>a.value==e.c4)).text,tema:dl.find((a=>a.value==e.c5)).text,waktu:pl.find((a=>a.value==e.c6)).text}})),o=M((()=>{const e=y(l);return"data"==e.type?e.name:"---"})),r=M((()=>`/app/spots/${a.id}/confirm-delete`)),i=M((()=>`/app/spots/${a.id}/update`));return I((()=>{s()})),(e,a)=>{const t=q("router-link"),s=q("q-action-bar"),u=q("q-pad-container");return m(),C(N,null,[f(s,{title:y(o),subtitle:"detail spot"},{actions:g((()=>[f(t,{to:y(r),class:"mr-2"},{default:g((()=>[f(y(se),{class:"w-8 h-8 text-red-500"})])),_:1},8,["to"]),f(t,{to:y(i)},{default:g((()=>[f(y(ne),{class:"w-8 h-8 text-blue-500"})])),_:1},8,["to"])])),_:1},8,["title"]),"data"==y(l).type?(m(),b(u,{key:0},{default:g((()=>[f(vl,{label:"Nama",value:y(l).name},null,8,["value"]),f(vl,{label:"Jarak",value:`${y(l).c1} km`},null,8,["value"]),f(vl,{label:"Jumlah Spot",value:y(l).c2},null,8,["value"]),f(vl,{label:"Biaya",value:`Rp ${y(l).c3.toLocaleString()}`},null,8,["value"]),f(vl,{label:"Transportasi",value:y(n).transportasi},null,8,["value"]),f(vl,{label:"Tema",value:y(n).tema},null,8,["value"]),f(vl,{label:"Waktu",value:y(n).waktu},null,8,["value"])])),_:1})):B("",!0)],64)}}},xl={props:{id:String},setup(e){const a=e,t=M((()=>`/spots/${a.id}`)),{status:l,del:s}=Ke(),{result:n,get:o}=ze({url:t}),r=M((()=>{const e=y(n);return"data"==e.type?e.name:"---"})),i=A();async function u(){await s(),i.push("/app/spots")}function c(){i.back()}return I(o),(e,a)=>{const t=q("q-confirm-delete"),l=q("q-loading-pane");return"data"==y(n).type?(m(),b(t,{key:0,name:y(r),onDelete:u,onCancel:c},null,8,["name"])):(m(),b(l,{key:1}))}}},wl={class:"flex"},Vl={props:{id:String},setup(e){const a=e,t=M((()=>`/spots/${a.id}`)),l=M((()=>`/spots/${a.id}`)),s=A(),{put:n,status:o}=We({url:t}),r=j(!1),{result:i,get:c}=ze({url:l});const d=j({});function p(e){d.value=e}async function v(){try{await n(d.value),s.back()}catch(e){console.log(e),alert("gagal mengubah data spot")}}const k=M((()=>"loading"==status.value)),x=M((()=>"data"==i.value.type?i.value.name:""));return I((async function(){r.value=!1,await c(),"data"!=i.value.type&&alert("gagal mengambil data spot");const e=i.value,{_id:a,type:t}=e,l=u(e,["_id","type"]);d.value=l,r.value=!0})),(e,a)=>{const t=q("q-action-bar"),l=q("q-pad-container"),s=q("q-loading-pane"),n=q("q-form-btn");return m(),C(N,null,[f(t,{title:y(x),subtitle:"Ubah data spot"},null,8,["title"]),r.value?(m(),b(l,{key:0},{default:g((()=>[f(ml,{"initial-data":d.value,"onUpdate:payload":p},null,8,["initial-data"])])),_:1})):(m(),b(s,{key:1})),h("div",wl,[f(n,{onClick:v,loading:y(k),label:"Submit"},null,8,["loading"])])],64)}}},_l={class:"w-1/3 mx-auto my-2 bg-white border border-gray-200 rounded p-4"},Sl={setup(e){const a="/v1/api/settings/weights",{get:t}=ze({url:a}),l=U({distance:1,numberOfSpots:1,price:1,transportation:1,theme:1,time:1}),{status:s,put:n}=We({url:a,payload:l});async function o(){try{const e=await t();if(!e)return void console.log("data not found");Object.assign(l,e)}catch(e){console.log(e)}}const r=M((()=>"loading"==s.value));async function i(){try{await n(l)}catch(e){console.log(e),alert("gagal mengubah bobot perangkingan")}finally{await o()}}return I(o),(e,a)=>{const t=q("q-action-bar"),s=q("q-input"),n=q("q-field"),o=q("q-form-btn");return m(),C(N,null,[f(t,{title:"Bobot",subtitle:"Bobot yang digunakan pada perangkingan"}),f(lt,null,{default:g((()=>[h("div",_l,[f(n,{label:"Jarak",class:"mb-4"},{default:g((()=>[f(s,{type:"number",min:1,modelValue:y(l).distance,"onUpdate:modelValue":a[0]||(a[0]=e=>y(l).distance=e)},null,8,["modelValue"])])),_:1}),f(n,{label:"Jumlah Spot",class:"mb-4"},{default:g((()=>[f(s,{type:"number",min:1,modelValue:y(l).numberOfSpots,"onUpdate:modelValue":a[1]||(a[1]=e=>y(l).numberOfSpots=e)},null,8,["modelValue"])])),_:1}),f(n,{label:"Biaya",class:"mb-4"},{default:g((()=>[f(s,{type:"number",min:1,modelValue:y(l).price,"onUpdate:modelValue":a[2]||(a[2]=e=>y(l).price=e)},null,8,["modelValue"])])),_:1}),f(n,{label:"Transportasi",class:"mb-4"},{default:g((()=>[f(s,{type:"number",min:1,modelValue:y(l).transportation,"onUpdate:modelValue":a[3]||(a[3]=e=>y(l).transportation=e)},null,8,["modelValue"])])),_:1}),f(n,{label:"Tema",class:"mb-4"},{default:g((()=>[f(s,{type:"number",min:1,modelValue:y(l).theme,"onUpdate:modelValue":a[4]||(a[4]=e=>y(l).theme=e)},null,8,["modelValue"])])),_:1}),f(n,{label:"Waktu",class:"mb-4"},{default:g((()=>[f(s,{type:"number",min:1,modelValue:y(l).time,"onUpdate:modelValue":a[5]||(a[5]=e=>y(l).time=e)},null,8,["modelValue"])])),_:1}),f(o,{onClick:i,loading:y(r),label:"Submit"},null,8,["loading"])])])),_:1})],64)}}};const Ul={key:0,class:"btn"},jl=w("tambah fotografer"),$l={key:0},ql=["src"],Cl={class:"flex-grow"},Ol={class:"text-gray-800 capitalize text-xl"},Dl={class:"hidden md:block text-sm md:w-3/5"},Pl={class:"flex items-center"},Ll=["href"],Al=["href"],Tl={class:"btn btn-circle btn-sm mr-4"},Ml=["onClick"],Bl={setup(e){const a=T("currentUser"),t=T("alert"),l=M((()=>"admin"==a.value.role)),{del:s,status:n}=Ke();function o(e){t({title:"Hapus data lokasi",description:"Apakah anda yakin akan menghapus data Fotografer",onYes:async()=>{await async function(e){try{await s(`/v1/api/photographers/${e}`),t("sukses menghapus data")}catch(a){t("gagal menghapus data")}}(e._id),i()}})}const{result:r,get:i}=ze({url:"/v1/api/photographers"}),u=M((()=>"data"==r.value.type?r.value.data:null));return I(i),(e,a)=>{const t=q("router-link"),s=q("inline-svg");return m(),C(N,null,[f(tt,{title:"Fotografer",subtitle:"Daftar fotografer"},{actions:g((()=>[y(l)?(m(),C("a",Ul,[f(t,{to:"/app/fotografer/create"},{default:g((()=>[jl])),_:1})])):B("",!0)])),_:1}),f(lt,null,{default:g((()=>[y(r)?(m(),C("ul",$l,[(m(!0),C(N,null,E(y(u),((e,a)=>(m(),C("li",{key:e._id,class:"flex py-4 px-3 md:px-6 bg-white border-b border-gray-200"},[h("img",{class:"w-12 h-12 rounded-full md:w-20 md:h-20 mr-2 md:mr-4",src:e.avatar},null,8,ql),h("div",Cl,[h("div",Ol,V(e.nama),1),h("div",Dl,V(e.summary),1)]),h("div",Pl,[h("a",{href:e.instagram,target:"_blank",class:"btn btn-ghost btn-circle btn-sm mr-2 md:mr-4 border-none"},[f(s,{src:y("/assets/instagram.ab3c08a5.svg"),class:"w-6 h-6"},null,8,["src"])],8,Ll),h("a",{class:"btn btn-ghost btn-circle btn-sm mr-4 border-none",target:"_blank",href:e.facebook},[f(s,{src:y("/assets/facebook.4b569da3.svg"),class:"w-6 h-6"},null,8,["src"])],8,Al),y(l)?(m(),C(N,{key:0},[f(t,{to:`/app/fotografer/${e._id}/edit`},{default:g((()=>[h("button",Tl,[f(y(ne),{class:"w-4 h-4"})])])),_:2},1032,["to"]),h("button",{onClick:a=>o(e),class:"btn btn-circle btn-sm bg-red-600 border-red-600"},[f(y(se),{class:"w-4 h-4"})],8,Ml)],64)):B("",!0)])])))),128))])):B("",!0)])),_:1})],64)}}};function Il(e){var a=new FileReader;return a.readAsDataURL(e),new Promise(((e,t)=>{a.onload=function(){e(a.result)},a.onerror=function(e){t(e)}}))}const Nl={class:"w-2/5 mx-auto"},El={class:"form-control p-6 bg-white"},Fl={setup(e){const a=A(),t=[{value:"man",text:"Pria"},{value:"woman",text:"Wanita"}],l=U({username:"",password:"",nama:"dedi nubatonis",summary:"",facebook:"abcde",instagram:"abcde",avatar:""});async function s(e){if(console.log("avatarChangeHandler called"),!e)throw new Error("file is undefined");const a=await Il(e);l.avatar=a}const{post:n,status:o,onSuccess:r}=Re({url:"/v1/api/photographers",payload:l});return r((()=>{alert("sukses menambah data fotografer"),a.back()})),(e,a)=>{const o=q("q-input"),r=q("q-field"),i=q("q-select"),u=q("file-input");return m(),C(N,null,[f(tt,{title:"Fotografer",subtitle:"Tambah fotografer"},{actions:g((()=>[h("button",{onClick:a[0]||(a[0]=(...e)=>y(n)&&y(n)(...e)),class:"btn btn-primary"},"simpan data")])),_:1}),f(lt,null,{default:g((()=>[h("div",Nl,[h("form",El,[f(r,{label:"Nama",class:"mb-4"},{default:g((()=>[f(o,{modelValue:y(l).nama,"onUpdate:modelValue":a[1]||(a[1]=e=>y(l).nama=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Gender",class:"mb-3"},{default:g((()=>[f(i,{modelValue:y(l).gender,"onUpdate:modelValue":a[2]||(a[2]=e=>y(l).gender=e),options:t},null,8,["modelValue"])])),_:1}),f(r,{label:"Username",class:"mb-3"},{default:g((()=>[f(o,{modelValue:y(l).username,"onUpdate:modelValue":a[3]||(a[3]=e=>y(l).username=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Password",class:"mb-3"},{default:g((()=>[f(o,{type:"password",modelValue:y(l).password,"onUpdate:modelValue":a[4]||(a[4]=e=>y(l).password=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Info singkat fotografer",class:"mb-4"},{default:g((()=>[z(h("textarea",{"onUpdate:modelValue":a[5]||(a[5]=e=>y(l).summary=e),class:"w-full border border-gray-300"},null,512),[[K,y(l).summary]])])),_:1}),f(r,{label:"Facebook",class:"mb-4"},{default:g((()=>[f(o,{modelValue:y(l).facebook,"onUpdate:modelValue":a[6]||(a[6]=e=>y(l).facebook=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Instagram",class:"mb-4"},{default:g((()=>[f(o,{modelValue:y(l).instagram,"onUpdate:modelValue":a[7]||(a[7]=e=>y(l).instagram=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Avatar",class:"mb-4"},{default:g((()=>[f(u,{onChange:s})])),_:1})])])])),_:1})],64)}}},Jl={class:"flex items-start gap-x-10"},Rl={class:"w-1/2 border border-gray-300 rounded p-4"},zl={class:"form-control bg-white"},Kl={class:"w-1/2 border border-gray-300 rounded p-4"},Wl={props:{id:[Number,String]},setup(e){const a=e,t=A(),l=[{value:"man",text:"Pria"},{value:"woman",text:"Wanita"}],s=U({username:"",nama:"dedi nubatonis",summary:"",facebook:"abcde",instagram:"abcde",avatar:""});async function n(e){let a=e.target.files||e.dataTransfer.files;if(!a.length)return;const t=await Il(a[0]);s.avatar=t}const o=M((()=>`/v1/api/photographers/${a.id}`)),{get:r,onSuccess:i}=ze({url:o});i((e=>{console.log("data"),console.log(e),Object.assign(s,e)}));const{status:u,put:c,onSuccess:d}=We({url:o,payload:s});d((()=>{alert("sukses mengubah data fotografer"),t.back()}));const p=U({password:""}),b=M((()=>`/v1/api/photographers/${a.id}/password`)),{put:v,status:k,onSuccess:x}=We({url:b,payload:p});return x((()=>{alert("sukses mengubah password")})),I((()=>{r()})),(e,a)=>{const t=q("q-input"),o=q("q-field"),r=q("q-select"),i=q("file-input");return m(),C(N,null,[f(tt,{title:"Fotografer",subtitle:"Tambah fotografer"}),f(lt,null,{default:g((()=>[h("div",Jl,[h("div",Rl,[h("form",zl,[f(o,{label:"Nama",class:"mb-4"},{default:g((()=>[f(t,{modelValue:y(s).nama,"onUpdate:modelValue":a[0]||(a[0]=e=>y(s).nama=e)},null,8,["modelValue"])])),_:1}),f(o,{label:"Gender",class:"mb-3"},{default:g((()=>[f(r,{modelValue:y(s).gender,"onUpdate:modelValue":a[1]||(a[1]=e=>y(s).gender=e),options:l},null,8,["modelValue"])])),_:1}),f(o,{label:"Username",class:"mb-3"},{default:g((()=>[f(t,{modelValue:y(s).username,"onUpdate:modelValue":a[2]||(a[2]=e=>y(s).username=e)},null,8,["modelValue"])])),_:1}),f(o,{label:"Info singkat fotografer",class:"mb-4"},{default:g((()=>[z(h("textarea",{"onUpdate:modelValue":a[3]||(a[3]=e=>y(s).summary=e),class:"w-full border border-gray-300"},null,512),[[K,y(s).summary]])])),_:1}),f(o,{label:"Facebook",class:"mb-4"},{default:g((()=>[f(t,{modelValue:y(s).facebook,"onUpdate:modelValue":a[4]||(a[4]=e=>y(s).facebook=e)},null,8,["modelValue"])])),_:1}),f(o,{label:"Instagram",class:"mb-4"},{default:g((()=>[f(t,{modelValue:y(s).instagram,"onUpdate:modelValue":a[5]||(a[5]=e=>y(s).instagram=e)},null,8,["modelValue"])])),_:1}),f(o,{label:"Avatar",class:"mb-4"},{default:g((()=>[f(i,{onChange:n})])),_:1}),h("button",{onClick:a[6]||(a[6]=(...e)=>y(c)&&y(c)(...e)),class:"btn btn-primary"},"simpan")])]),h("div",Kl,[h("form",null,[f(o,{label:"Ganti Password",class:"mb-4"},{default:g((()=>[f(t,{modelValue:y(p).password,"onUpdate:modelValue":a[7]||(a[7]=e=>y(p).password=e)},null,8,["modelValue"])])),_:1}),h("button",{onClick:a[8]||(a[8]=(...e)=>y(v)&&y(v)(...e)),class:"btn btn-primary"},"simpan")])])])])),_:1})],64)}}},Hl={class:"btn"},Yl=w("tambah lokasi"),Gl={key:0},Ql=["src"],Xl={class:"flex-grow"},Zl={class:"text-gray-800 capitalize text-xl"},es={class:"text-sm md:w-3/5"},as={key:0,class:"flex items-center"},ts={class:"btn btn-circle btn-primary btn-sm mr-2"},ls=["onClick"],ss={key:1,class:"flex items-center"},ns={class:"btn btn-circle btn-primary btn-sm mr-2"},os={setup(e){const a=T("currentUser"),t=T("alert"),l=M((()=>"admin"==a.value.role)),{del:s,status:n}=Ke();function o(e){t({title:"Hapus data lokasi",description:"Apakah anda yakin akan menghapus data lokasi",onYes:async()=>{await async function(e){console.log("here");try{await s(`/v1/api/locations/${e}`),t("sukses menghapus data")}catch(a){t("gagal menghapus data")}}(e._id),r()}})}const{get:r,result:i}=ze({url:"/v1/api/locations"}),u=M((()=>"data"!=i.value.type?[]:i.value.data));return I(r),(e,a)=>{const t=q("router-link");return m(),C(N,null,[f(tt,{title:"Lokasi",subtitle:"Daftar lokasi"},oe({_:2},[y(l)?{name:"actions",fn:g((()=>[h("a",Hl,[f(t,{to:"/app/lokasi/create"},{default:g((()=>[Yl])),_:1})])]))}:void 0]),1024),f(lt,null,{default:g((()=>[y(i)?(m(),C("ul",Gl,[(m(!0),C(N,null,E(y(u),((e,a)=>(m(),C("li",{key:e.id,class:"flex py-4 px-3 md:px-6 bg-white border-b border-gray-200"},[h("img",{class:"w-12 h-12 md:w-20 md:h-20 mr-4",src:e.avatar},null,8,Ql),h("div",Xl,[h("div",Zl,V(e.nama),1),h("div",es,"IDR "+V(parseInt(e.price.$numberDecimal).toLocaleString())+", "+V(e.distance)+" km, "+V(e.numberOfSpots)+" spot",1)]),y(l)?(m(),C("div",as,[f(t,{to:`/app/lokasi/${e._id}/edit`},{default:g((()=>[h("button",ts,[f(y(ne),{class:"w-4 h-4"})])])),_:2},1032,["to"]),h("button",{onClick:a=>o(e),class:"btn btn-circle btn-sm bg-red-600 border-red-600"},[f(y(se),{class:"w-4 h-4"})],8,ls)])):(m(),C("div",ss,[f(t,{to:`/app/lokasi/${e._id}/detail`},{default:g((()=>[h("button",ns,[f(y(re),{class:"w-4 h-4"})])])),_:2},1032,["to"])]))])))),128))])):B("",!0)])),_:1})],64)}}},rs={class:"w-2/5 mx-auto p-4 border border-gray-300 rounded"},is={class:"form-control p-6 bg-white"},us={class:"form-control"},cs={class:"cursor-pointer label"},ds=h("span",{class:"label-text"},"Indoor",-1),ps={class:"form-control"},ms={class:"cursor-pointer label"},bs=h("span",{class:"label-text"},"Outdoor",-1),gs={setup(e){const a=A(),t=U({nama:"",distance:0,transportation:"car",price:0,latitude:"",longitude:"",numberOfSpots:0,waktu:4,theme:"indoor"}),l=[{value:"bike",text:"Motor"},{value:"car",text:"Mobil Pribadi"}],s=[{value:2,text:"12 jam"},{value:1,text:"6 jam"}],{post:n,status:o,onSuccess:r}=Re({url:"/v1/api/locations",payload:t});return r((()=>{alert("sukses menambah data lokasi"),a.back()})),(e,a)=>{const o=q("q-input"),r=q("q-field"),i=q("q-select");return m(),C(N,null,[f(tt,{title:"Lokasi",subtitle:"Tambah Lokasi"},{actions:g((()=>[h("button",{onClick:a[0]||(a[0]=(...e)=>y(n)&&y(n)(...e)),class:"btn btn-primary"},"simpan data")])),_:1}),f(lt,null,{default:g((()=>[h("div",rs,[h("form",is,[f(r,{label:"Nama",class:"mb-4"},{default:g((()=>[f(o,{modelValue:y(t).nama,"onUpdate:modelValue":a[1]||(a[1]=e=>y(t).nama=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Transportasi",class:"mb-4"},{default:g((()=>[f(i,{modelValue:y(t).transportation,"onUpdate:modelValue":a[2]||(a[2]=e=>y(t).transportation=e),options:l},null,8,["modelValue"])])),_:1}),f(r,{label:"Jarak",class:"mb-4"},{default:g((()=>[f(o,{type:"number",modelValue:y(t).distance,"onUpdate:modelValue":a[3]||(a[3]=e=>y(t).distance=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Harga",class:"mb-4"},{default:g((()=>[f(o,{type:"number",modelValue:y(t).price,"onUpdate:modelValue":a[4]||(a[4]=e=>y(t).price=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Latitude",class:"mb-4"},{default:g((()=>[f(o,{modelValue:y(t).latitude,"onUpdate:modelValue":a[5]||(a[5]=e=>y(t).latitude=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Longitude",class:"mb-4"},{default:g((()=>[f(o,{modelValue:y(t).longitude,"onUpdate:modelValue":a[6]||(a[6]=e=>y(t).longitude=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Jumlah Spot",class:"mb-4"},{default:g((()=>[f(o,{type:"number",modelValue:y(t).numberOfSpots,"onUpdate:modelValue":a[7]||(a[7]=e=>y(t).numberOfSpots=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Waktu",class:"mb-4"},{default:g((()=>[f(i,{modelValue:y(t).waktu,"onUpdate:modelValue":a[8]||(a[8]=e=>y(t).waktu=e),options:s},null,8,["modelValue"])])),_:1}),f(r,{label:"Tema",class:"mb-4"},{default:g((()=>[h("div",us,[h("label",cs,[ds,z(h("input",{type:"radio","onUpdate:modelValue":a[9]||(a[9]=e=>y(t).theme=e),class:"radio radio-primary",value:"indoor"},null,512),[[W,y(t).theme]])])]),h("div",ps,[h("label",ms,[bs,z(h("input",{type:"radio","onUpdate:modelValue":a[10]||(a[10]=e=>y(t).theme=e),class:"radio radio-primary",value:"outdoor"},null,512),[[W,y(t).theme]])])])])),_:1})])])])),_:1})],64)}}},fs=["disabled"],hs={class:"w-2/5 mx-auto"},ys={class:"form-control p-6 bg-white"},vs={class:"form-control"},ks={class:"cursor-pointer label"},xs=h("span",{class:"label-text"},"Indoor",-1),ws={class:"form-control"},Vs={class:"cursor-pointer label"},_s=h("span",{class:"label-text"},"Outdoor",-1),Ss={props:{id:String},setup(e){const a=e,t=A(),l=U({nama:"",price:0,latitude:"",longitude:"",numberOfSpots:0,waktu:4,theme:"indoor",avatar:""}),s=[{value:"bike",text:"Motor"},{value:"car",text:"Mobil"}],n=[{value:2,text:"12 jam"},{value:1,text:"6 jam"}];async function o(e){let a=e.target.files||e.dataTransfer.files;if(!a.length)return;const t=await Il(a[0]);l.avatar=t}const u=M((()=>`/v1/api/locations/${a.id}`)),{get:c,result:d,onSuccess:p}=ze({url:u});p((e=>{const a=i(r({},e),{price:parseInt(e.price.$numberDecimal)});Object.assign(l,a)}));const{put:b,result:v,onSuccess:k}=We({url:u,payload:l,transformPayload:e=>i(r({},e),{price:`${e.price}`})});return k((()=>{t.push("/app/lokasi")})),I(c),(e,a)=>{const t=q("q-input"),r=q("q-field"),i=q("q-select"),u=q("file-input");return m(),C(N,null,[f(tt,{title:"Lokasi",subtitle:"Tambah Lokasi"},{actions:g((()=>[h("button",{disabled:"data"!=y(d).type,onClick:a[0]||(a[0]=(...e)=>y(b)&&y(b)(...e)),class:"btn btn-primary"},"Simpan",8,fs)])),_:1}),f(lt,null,{default:g((()=>[h("div",hs,[h("form",ys,[f(r,{label:"Nama",class:"mb-4"},{default:g((()=>[f(t,{modelValue:y(l).nama,"onUpdate:modelValue":a[1]||(a[1]=e=>y(l).nama=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Transportasi",class:"mb-4"},{default:g((()=>[f(i,{modelValue:y(l).transportation,"onUpdate:modelValue":a[2]||(a[2]=e=>y(l).transportation=e),options:s},null,8,["modelValue"])])),_:1}),f(r,{label:"Jarak",class:"mb-4"},{default:g((()=>[f(t,{type:"number",modelValue:y(l).distance,"onUpdate:modelValue":a[3]||(a[3]=e=>y(l).distance=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Price",class:"mb-4"},{default:g((()=>[f(t,{type:"number",modelValue:y(l).price,"onUpdate:modelValue":a[4]||(a[4]=e=>y(l).price=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Latitude",class:"mb-4"},{default:g((()=>[f(t,{modelValue:y(l).latitude,"onUpdate:modelValue":a[5]||(a[5]=e=>y(l).latitude=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Longitude",class:"mb-4"},{default:g((()=>[f(t,{modelValue:y(l).longitude,"onUpdate:modelValue":a[6]||(a[6]=e=>y(l).longitude=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Jumlah Spot",class:"mb-4"},{default:g((()=>[f(t,{type:"number",modelValue:y(l).numberOfSpots,"onUpdate:modelValue":a[7]||(a[7]=e=>y(l).numberOfSpots=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Waktu",class:"mb-4"},{default:g((()=>[f(i,{modelValue:y(l).waktu,"onUpdate:modelValue":a[8]||(a[8]=e=>y(l).waktu=e),options:n},null,8,["modelValue"])])),_:1}),f(r,{label:"Tema",class:"mb-4"},{default:g((()=>[h("div",vs,[h("label",ks,[xs,z(h("input",{type:"radio","onUpdate:modelValue":a[9]||(a[9]=e=>y(l).theme=e),class:"radio radio-primary",value:"indoor"},null,512),[[W,y(l).theme]])])]),h("div",ws,[h("label",Vs,[_s,z(h("input",{type:"radio","onUpdate:modelValue":a[10]||(a[10]=e=>y(l).theme=e),class:"radio radio-primary",value:"outdoor"},null,512),[[W,y(l).theme]])])])])),_:1}),f(r,{label:"Avatar",class:"mb-4"},{default:g((()=>[f(u,{onChange:o})])),_:1})])])])),_:1})],64)}}},Us=["disabled"],js={class:"w-full md:w-2/5"},$s={class:"py-4 px-2 flex justify-between items-center border-b border-grey-200"},qs=h("span",null,"Nama",-1),Cs={class:"font-bold"},Os={class:"py-4 px-2 flex justify-between items-center border-b border-grey-200"},Ds=h("span",null,"Transportasi",-1),Ps={class:"font-bold"},Ls={class:"py-4 px-2 flex justify-between items-center border-b border-grey-200"},As=h("span",null,"Jarak",-1),Ts={class:"font-bold"},Ms={class:"py-4 px-2 flex justify-between items-center border-b border-grey-200"},Bs=h("span",null,"Harga",-1),Is={class:"font-bold"},Ns={class:"py-4 px-2 flex justify-between items-center border-b border-grey-200"},Es=h("span",null,"Lokasi",-1),Fs={class:"text-xs font-bold"},Js={class:"py-4 px-2 flex justify-between items-center border-b border-grey-200"},Rs=h("span",null,"Jumlah Spot",-1),zs={class:"font-bold"},Ks={class:"py-4 px-2 flex justify-between items-center border-b border-grey-200"},Ws=h("span",null,"Waktu",-1),Hs={class:"font-bold"},Ys={class:"py-4 px-2 flex justify-between items-center border-b border-grey-200"},Gs=h("span",null,"Tema",-1),Qs={class:"font-bold capitalize"},Xs={props:{id:String},setup(e){const a=e,t=A(),l=U({nama:"",price:0,latitude:"",longitude:"",numberOfSpots:0,transportation:"car",waktu:4,theme:"indoor",avatar:""}),s=M((()=>2==l.waktu?"12 jam":"6 jam")),n=[{value:"bike",text:"Motor"},{value:"car",text:"Mobil Pribadi"},{value:"rental-car",text:"Rental Mobil"}],o=M((()=>n.find((e=>e.value==l.transportation)).text)),u=M((()=>`/v1/api/locations/${a.id}`)),{get:c,result:d,onSuccess:p}=ze({url:u});p((e=>{const a=i(r({},e),{price:parseInt(e.price.$numberDecimal)});Object.assign(l,a)}));const{put:b,result:v,onSuccess:k}=We({url:u,payload:l,transformPayload:e=>i(r({},e),{price:`${e.price}`})});return k((()=>{t.push("/app/lokasi")})),I(c),(e,a)=>(m(),C(N,null,[f(tt,{title:"Lokasi",subtitle:"Tambah Lokasi"},{actions:g((()=>[h("button",{disabled:"data"!=y(d).type,onClick:a[0]||(a[0]=(...e)=>y(b)&&y(b)(...e)),class:"btn btn-primary"},"Simpan",8,Us)])),_:1}),f(lt,null,{default:g((()=>[h("div",js,[h("ul",null,[h("li",$s,[qs,h("span",Cs,V(y(l).nama),1)]),h("li",Os,[Ds,h("span",Ps,V(y(o)),1)]),h("li",Ls,[As,h("span",Ts,V(y(l).distance)+" km",1)]),h("li",Ms,[Bs,h("span",Is,"IDR "+V(y(l).price),1)]),h("li",Ns,[Es,h("span",Fs,V(y(l).latitude)+", "+V(y(l).longitude),1)]),h("li",Js,[Rs,h("span",zs,V(y(l).numberOfSpots),1)]),h("li",Ks,[Ws,h("span",Hs,V(y(s)),1)]),h("li",Ys,[Gs,h("span",Qs,V(y(l).theme),1)])])])])),_:1})],64))}};async function Zs(e){const a=await async function(){try{return(await Je.get("/v1/api/locations")).data}catch(e){console.log(e)}}(),t=function(e){return e.map((e=>(console.log([e.distance,e.numberOfSpots,parseInt(e.price.$numberDecimal),e.transportation,e.theme,e.waktu]),[e.distance,e.numberOfSpots,parseInt(e.price.$numberDecimal),e.transportation,e.theme,e.waktu]))).map(vt)}(a),l=Object.keys(e).map((a=>{const t=e[a];return[t.distance,t.numberOfSpots,t.price,t.transportation,t.theme,t.waktu]}));let s=[];const n=l.length;for(let d=0;d<n;d++){const e=kt({data:t,weights:l[d]});s.push(e)}const o=a.length;let r=[];for(let d=0;d<o;d++){let e=[];for(let a=0;a<o;a++){let t=0;s.forEach((e=>{e[a].i==d&&(t+=e[a].p*(o-a-1))})),e.push(t)}r.push(e.reduce(((e,a)=>e+a),0))}const i=r.reduce(((e,a)=>e+a),0),u=r.map((e=>e/i)).map(((e,a)=>({b:e,i:a})));u.sort(((e,a)=>e.b-a.b)),u.reverse();const c=u[0];return{location:a[c.i],borda:c.b}}async function en({id:e,location:a,borda:t}){const l=`/v1/api/sessions/${e}/result`;try{await Je.put(l,{location:a,borda:t})}catch(s){console.log(s),alert("gagal menyimpan hasil sistem")}}const an=[{label:"jarak",key:"distance",value:1},{label:"transportasi",key:"transportation",value:1},{label:"harga",key:"price",value:1},{label:"tema",key:"theme",value:1},{label:"waktu",key:"waktu",value:1},{label:"jumlah spot",key:"numberOfSpots",value:1}];function tn({$session:e,$gender:a,$weights:t}){if(!e||!a)return[];const l=y(e),s=y(a);if(!l.weights||!l.weights[s])return[];t.forEach((e=>{e.value=l.weights[s][e.key]}))}function ln(e){const{loadUser:a}=Ha();return async function(e){if("READY"!=e.status)return!1;const t=await Zs(e.weights);return await en(r({id:e._id},t)),await a(),!0}}const sn={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},nn={class:"flex flex-col justify-center"},on={key:0},rn={class:"text-red-500 font-bold text-2xl"},un={key:1},cn={class:"text-red-500 font-bold text-2xl"},dn=["disabled"],pn={props:{weights:Array},emits:["done"],setup(e,{emit:a}){const t=e,l=U([]),s=M((()=>l.map((e=>e.value)).reduce(((e,a)=>e+a),0))),n=M((()=>Math.abs(s.value-100))),o=M((()=>s.value<100)),r=M((()=>s.value>100));return I((()=>{t.weights.forEach((e=>{l.push(e)}))})),(e,t)=>{const s=q("q-input"),i=q("q-field");return m(),C(N,null,[h("div",sn,[(m(!0),C(N,null,E(y(l),(e=>(m(),b(i,{label:e.label,class:"mb-4"},{default:g((()=>[f(s,{type:"number",modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,max:100,min:0},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"])))),256))]),h("div",nn,[y(r)?(m(),C("div",on,[h("h3",rn,"Jumlah Bobot Lebih "+V(y(n)),1)])):y(o)?(m(),C("div",un,[h("h3",cn,"Jumlah bobot Kurang "+V(y(n)),1)])):B("",!0),h("button",{onClick:t[0]||(t[0]=e=>a("done")),disabled:y(o)||y(r),class:"btn btn-primary my-12 disabled:opacity-50"}," Simpan Bobot ",8,dn)])],64)}}},mn={class:"py-6 bg-gray-200 rounded mb-12 text-center flex flex-col items-center justify-center"},bn=h("h2",{class:"text-lg mx-4"},"Kirimkan Token dibawah kepada pasangan anda",-1),gn={class:"text-3xl font-bold"},fn=h("span",{class:"mr-2 font-bold"},"Kirim Melalui WhatsApp",-1),hn={props:{session:Object},setup:e=>(a,t)=>{const l=q("inline-svg"),s=q("router-link");return m(),C("div",mn,[bn,h("h1",gn,V(e.session.token),1),f(s,{to:`/app/session-send-wa/${e.session.token}`,class:"my-4 bg-white p-2 rounded flex items-center shadow-lg"},{default:g((()=>[fn,f(l,{src:y("/assets/whatsapp-svgrepo-com.249e411e.svg"),class:"w-8 h-8"},null,8,["src"])])),_:1},8,["to"])])}},yn=h("h1",{class:"text-2xl text-gray-500 text-center mb-12"},"Input Bobot Kriteria ",-1),vn=h("h1",{class:"text-xl font-medium text-gray-700 text-center mb-12"},"Silahkan Masukan Nilai Bobot maksimal 100",-1),kn={class:"px-4 mx-auto md:px-0 md:w-4/5"},xn={props:{id:String},setup(e){const a=ie(e,"id"),t=T("currentUser"),l=U(an),s=M((()=>l.map((e=>e.value)).reduce(((e,a)=>e+a),0)));M((()=>Math.abs(s.value-100))),M((()=>s.value<100)),M((()=>s.value>100));const n=M((()=>y(t).gender)),{$session:o,loadSession:i,updateSession:u,onSuccessUpdate:c,onErrorUpdate:d,$updateStatus:p,$doneLoad:v}=function({$id:e,$token:a,payload:t,$gender:l}){const s=M((()=>`/v1/api/sessions/${y(e)}`)),n=M((()=>`${s.value}/weights`)),{get:o,result:i,onSuccess:u}=ze({url:s}),c=j(!1);u((e=>{const a=y(l);if(e.weights&&e.weights[a]){const l=e.weights[a];l&&t.forEach((e=>{e.value=l[e.key]}))}c.value=!0}));const d=M((()=>{const e=y(i);return"data"!=e.type?null:e.data})),p=M((()=>{let e={};return t.forEach((a=>{e[a.key]=a.value})),e})),{put:m,status:b,onSuccess:g,onError:f}=We({url:n,payload:p}),{loadUser:h}=Ha();return{loadSession:o,$session:d,onSuccessUpdate:a=>{g((async t=>{if(console.log("response"),console.log(t),t.complete){const a=await Zs(t.weights);console.log(a),await en(r({id:e.value},a)),await h()}return a(t)}))},onErrorUpdate:f,updateSession:m,$updateStatus:b,$doneLoad:c}}({$id:a,payload:l,$gender:n}),k=T("notification.show"),x=ln(),w=M((()=>{const e=y(o),a=y(t);return!(!e||!a)&&e.user._id==a._id}));return c((async e=>{if("READY"==e.status){await x(e)&&k({title:"Lokasi Photoshoot telah ditentukan",description:"Berdasarkan perhitungan sistem. Lokasi yang dipilih adalah Pantai Manikin",okLabel:"Lihat Detail"})}})),d((()=>{alert("gagal mengubah bobot")})),I(i),(e,a)=>{const t=q("q-spinner");return m(),C(N,null,[f(tt,{title:"Penentuan Lokasi",subtitle:"Menentukan Lokasi Berdasarkan Preferensi Anda"}),f(lt,null,{default:g((()=>[y(o)?(m(),C(N,{key:0},[y(w)?(m(),b(hn,{key:0,session:y(o)},null,8,["session"])):B("",!0),yn,vn,h("div",kn,[y(v)&&"loading"!=y(p)?(m(),b(pn,{key:0,weights:y(l),onDone:y(u)},null,8,["weights","onDone"])):(m(),b(t,{key:1}))])],64)):B("",!0)])),_:1})],64)}}},wn={class:"m-2"},Vn=h("p",{class:"px-4 py-2 mb-6 bg-gray-200 rounded"},"Masukan Tanggal Photoshot",-1),_n={setup(e){const a=U({date:null}),t=A(),{loadUser:l}=Ha(),{post:s,status:n,onSuccess:o}=Re({url:"/v1/api/sessions",payload:a});return o((async e=>{const{_id:a}=e,s=`/app/sessionV3/${a}`;await l(),t.replace(s)})),(e,t)=>{const l=q("q-input"),n=q("q-field");return m(),C(N,null,[f(tt,{title:"Sesi Baru",subtitle:"Tentukan Tanggal"}),f(lt,null,{default:g((()=>[h("div",wn,[Vn,f(n,{label:"Tanggal Photoshoot"},{default:g((()=>[f(l,{type:"date",modelValue:y(a).date,"onUpdate:modelValue":t[0]||(t[0]=e=>y(a).date=e),required:""},null,8,["modelValue"])])),_:1}),h("button",{onClick:t[1]||(t[1]=(...e)=>y(s)&&y(s)(...e)),class:"btn btn-primary my-4"}," simpan ")])])),_:1})],64)}}};const Sn={class:"text-lg font-bold bg-gray-200 p-2 rounded flex items-center"},Un=["src"],jn={class:"flex-grow"},$n={class:"text-xl"},qn={class:"text-sm font-medium"},Cn={props:{nama:String,label:String,icon:null,doneInput:Boolean,avatar:null},setup(e){const a="w-12 h-12 mr-4";return(t,l)=>{const s=q("inline-svg");return m(),C("div",Sn,[e.avatar?(m(),C("img",{key:0,src:e.avatar,class:ue(a)},null,8,Un)):(m(),b(s,{key:1,src:e.icon,class:ue(a)},null,8,["src"])),h("div",jn,[h("div",$n,V(e.nama),1),h("div",qn,V(e.label),1)]),e.doneInput?(m(),b(y(ce),{key:2,class:"h-6 w-8 text-green-700"})):B("",!0)])}}},On={class:"rounded p-2 flex items-center"},Dn=["src"],Pn={key:0},Ln={key:1},An={props:{member:Object,title:String},setup(e){const a=e,t=M((()=>a.member&&a.member.avatar?a.member.avatar:"/user.png"));return(a,l)=>(m(),C("div",On,[h("img",{src:y(t),class:"h-20 mr-2"},null,8,Dn),e.member?(m(),C("div",Pn,[h("p",null,V(e.member.nama),1),h("p",null,V(e.title),1)])):(m(),C("div",Ln,[h("p",null,V(e.title)+" belum mengisi data",1)]))]))}},Tn={class:"w-screen bg-gray-100 shadow-sm"},Mn=["onClick"],Bn={props:{session:Object},emits:["delete"],setup(e,{emit:a}){const t=e,l=T("currentUser"),s=M((()=>{const e=y(l);if(console.log("currentUser"),console.log(e),"photographer"!=e.role)return;if(!t.session.photographer)return;return e._id==t.session.photographer._id}));function n(){console.log("about to emit delete"),a("delete")}const o=M((()=>{let e=[{id:"session_detail",type:"link",path:`/app/sessions/${t.session._id}`,label:"detail"},{id:"choose_photographer",type:"link",path:`/app/sessions/${t.session._id}/choose-photographer`,label:"pilih photographer"},{id:"delete_sesi",type:"button",label:"hapus sesi",action:n}];return s.value&&e.push({id:"photographer_input",type:"link",path:`/app/sessionv3/${t.session._id}`,label:"input nilai fotografer"}),e}));return(e,a)=>{const t=q("router-link");return m(),b(y(ge),{class:"relative"},{default:g((({open:e})=>[f(y(pe),{class:ue([e?"":"text-opacity-90","inline-flex items-center px-3 py-2 text-base font-medium text-gray-600 bg-orange-700 rounded-md group hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:g((()=>[f(y(de),{class:ue([e?"":"text-opacity-70","w-5 h-5 ml-2 text-orange-300 transition duration-150 ease-in-out group-hover:text-opacity-80"]),"aria-hidden":"true"},null,8,["class"])])),_:2},1032,["class"]),f(be,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:g((()=>[f(y(me),{class:"absolute z-10 w-screen max-w-sm px-4 mt-3 transform -translate-x-1/2 left-1/2 sm:px-0 lg:max-w-3xl"},{default:g((()=>[h("ul",Tn,[(m(!0),C(N,null,E(y(o),(e=>(m(),C("li",{key:e.id,class:"py-2 px-3 border-b border-gray-300"},["link"==e.type?(m(),b(t,{key:0,to:e.path},{default:g((()=>[w(V(e.label),1)])),_:2},1032,["to"])):"button"==e.type?(m(),C("button",{key:1,onClick:e.action},V(e.label),9,Mn)):B("",!0)])))),128))])])),_:1})])),_:1})])),_:1})}}},In={class:"rounded bg-gray-100 py-2 md:hidden"},Nn={class:"flex items-center justify-between pb-2 px-4"},En={class:"text-gray-600"},Fn={class:"flex flex-col flex-grow gap-y-2"},Jn={key:0,class:"bg-indigo-100 px-4 py-2"},Rn={class:"font-black text-2xl text-indigo-900"},zn={class:"text-sm text-indigo-900"},Kn={class:"hidden md:block rounded bg-white border border-gray-300"},Wn={class:"p-2 flex items-stretch"},Hn={class:"p-2 border-t border-gray-200 flex justify-between items-center"},Yn={class:"font-bold text-gray-600"},Gn={class:"font-bold text-gray-500 text-sm"},Qn={key:0,class:""},Xn={class:"font-bold text-xl"},Zn={class:"flex items-center"},eo=w("detail"),ao={props:{session:Object},emits:["deleted"],setup(e,{emit:a}){const t=e,l=M((()=>{const e=t.session;return fe(new Date(e.date),"PPPP",{locale:he})})),s=["man","woman","photographer"],n={man:"/assets/man-svgrepo-com.28ab5799.svg",woman:"/assets/woman-svgrepo-com.fb4a74ca.svg",photographer:"/assets/camera.06b4ab9a.svg"},o={man:"Mempelai Pria",woman:"Mempelai Wanita",photographer:"Fotografer"},r=M((()=>s.map((e=>{const a=t.session[e];return{key:e,icon:n[e],label:o[e],avatar:a&&a.avatar?a.avatar:null,nama:a?a.nama:"-- belum menginput --",doneInput:t.session.weights&&!!t.session.weights[e]}})))),{loadUser:i}=Ha(),u=M((()=>t.session?t.session._id:null)),c=T("currentUser"),d=M((()=>{const e=y(c);return"user"!=e.role?"fotografer":"man"==e.gender?"mempelai pria":"mempelai wanita"})),p=M((()=>y(c)._id==t.session.user._id)),v=M((()=>"admin"==y(c).role)),k=M((()=>t.session.complete)),x=T("alert"),{del:_,status:S}=Ke();function U(){console.log("ON PROMPT DELETE"),x({title:"Hapus data session",description:"Apakah anda yakin akan menghapus data sesi",onYes:async()=>{await async function(e){console.log("here");try{await _(`/v1/api/sessions/${e}`),x("sukses menghapus data")}catch(a){x("gagal menghapus data")}}(u.value),await i(),a("deleted")}})}return(a,t)=>{const s=q("router-link");return m(),C("li",null,[h("div",In,[h("div",Nn,[h("div",En,V(y(l)),1),f(Bn,{session:e.session,onDelete:U},null,8,["session"])]),h("div",Fn,[(m(!0),C(N,null,E(y(r),(e=>(m(),b(Cn,{key:e.key,label:e.label,icon:e.icon,avatar:e.avatar,nama:e.nama,"done-input":e.doneInput},null,8,["label","icon","avatar","nama","done-input"])))),128)),"DONE"==e.session.status?(m(),C("div",Jn,[h("div",Rn,V(e.session.location.nama),1),h("div",zn,V(e.session.location.latitude)+", "+V(e.session.location.longitude),1)])):B("",!0)])]),h("div",Kn,[h("div",Wn,[f(An,{member:e.session.man,title:"Mempelai Pria",class:"mr-3 w-1/3"},null,8,["member"]),f(An,{member:e.session.woman,title:"Mempelai Wanita",class:"mr-3 w-1/3"},null,8,["member"]),f(An,{member:e.session.photographer,title:"Fotografer",class:"w-1/3"},null,8,["member"])]),h("div",Hn,[h("div",null,[h("p",Yn,V(e.session.user.nama),1),h("p",Gn,V(e.session.createdAt),1)]),e.session.complete?(m(),C("div",Qn,[h("div",Xn,V(e.session.location.nama),1)])):B("",!0),h("div",Zn,[y(p)?(m(),C("button",{key:0,onClick:U,class:"btn btn-sm mr-2"},"hapus")):B("",!0),f(s,{to:`/app/sessions/${e.session._id}`,class:"btn btn-sm mr-2"},{default:g((()=>[eo])),_:1},8,["to"]),y(v)||!y(p)&&y(k)?B("",!0):(m(),b(s,{key:1,to:`/app/sessionv3/${y(u)}`,class:"btn btn-info btn-sm"},{default:g((()=>[w("input data "+V(y(d)),1)])),_:1},8,["to"]))])])])])}}},to={key:0},lo={key:1,class:"bg-gray-200 p-12 text-2xl font-bold text-center"},so={setup(e){T("alert"),Ke();const{get:a,result:t}=ze({url:"/v1/api/sessions"}),l=M((()=>"data"!=t.value.type?[]:t.value.data));return I(a),(e,t)=>(m(),C(N,null,[f(tt,{title:"Sesi",subtitle:"Daftar sesi"}),f(lt,null,{default:g((()=>[y(l).length?(m(),C("ul",to,[(m(!0),C(N,null,E(y(l),((e,t)=>(m(),b(ao,{key:e._id,session:e,onDeleted:y(a),class:"mb-4"},null,8,["session","onDeleted"])))),128))])):(m(),C("h1",lo,"Belum ada data"))])),_:1})],64))}},no={class:"border border-gray-300 rounded"},oo={class:"font-bold flex items-center justify-between border-b border-gray-300 py-2 px-4"},ro=h("span",null,"Jarak",-1),io=w(),uo={class:"font-bold flex items-center justify-between border-b border-gray-300 py-2 px-4"},co=h("span",null,"Jumlah Spot",-1),po=w(),mo={class:"font-bold flex items-center justify-between border-b border-gray-300 py-2 px-4"},bo=h("span",null,"Harga",-1),go=w(),fo={class:"font-bold flex items-center justify-between border-b border-gray-300 py-2 px-4"},ho=h("span",null,"Tema",-1),yo=w(),vo={class:"font-bold flex items-center justify-between border-b border-gray-300 py-2 px-4"},ko=h("span",null,"Transportasi",-1),xo=w(),wo={class:"font-bold flex items-center justify-between border-b border-gray-300 py-2 px-4"},Vo=h("span",null,"Waktu",-1),_o=w(),So={props:{member:Object,title:String,weights:Object},setup:e=>(a,t)=>(m(),C("div",no,[f(An,{member:e.member,title:e.title},null,8,["member","title"]),h("ul",null,[h("li",oo,[ro,io,h("span",null,V(e.weights.distance),1)]),h("li",uo,[co,po,h("span",null,V(e.weights.numberOfSpots),1)]),h("li",mo,[bo,go,h("span",null,V(e.weights.price),1)]),h("li",fo,[ho,yo,h("span",null,V(e.weights.theme),1)]),h("li",vo,[ko,xo,h("span",null,V(e.weights.transportation),1)]),h("li",wo,[Vo,_o,h("span",null,V(e.weights.waktu),1)])])]))};async function Uo(e){const a=await async function(){try{return(await Je.get("/v1/api/locations")).data}catch(e){console.log(e)}}(),t=function(e){return e.map((e=>(console.log([e.distance,e.numberOfSpots,parseInt(e.price.$numberDecimal),e.transportation,e.theme,e.waktu]),[e.distance,e.numberOfSpots,parseInt(e.price.$numberDecimal),e.transportation,e.theme,e.waktu]))).map(vt)}(a),l=Object.keys(e).map((a=>{const t=e[a];return[t.distance,t.numberOfSpots,t.price,t.transportation,t.theme,t.waktu]}));let s=[];const n=l.length;for(let c=0;c<n;c++){const e=kt({data:t,weights:l[c]});s.push(e)}const o=a.length;let r=[];for(let c=0;c<o;c++){let e=[];for(let a=0;a<o;a++){let t=0;s.forEach((e=>{e[a].i==c&&(t+=e[a].p*(o-a-1))})),e.push(t)}r.push(e.reduce(((e,a)=>e+a),0))}const i=r.reduce(((e,a)=>e+a),0),u=r.map((e=>e/i)).map(((e,a)=>({b:e,i:a})));return u.sort(((e,a)=>e.b-a.b)),u.reverse(),u.slice(0,5).map((e=>{const t=e;return{location:a[t.i],borda:t.b}}))}const jo={key:0,class:"grid grid-cols-1 gap-y-2 md:grid-cols-3"},$o={key:0},qo={key:1},Co={key:1,class:"flex items-center justify-center p-16 bg-gray-100"},Oo=[h("div",{class:"text-xl font-bold text-gray-700"},"Data Bobot Belum Diinput Oleh User",-1)],Do={key:2},Po={class:"flex items-start justify-start my-12 px-4"},Lo={class:"hidden md:block py-6 text-center"},Ao={class:"font-bold text-2xl"},To={class:"flex"},Mo=["src"],Bo={class:"text-xl font-bold"},Io=["href"],No={class:"font-bold"},Eo={props:{id:String},setup(e){const a=e,t=M((()=>`/v1/api/sessions/${a.id}`)),{get:l,result:s}=ze({url:t}),n=M((()=>{const e=y(s);return"data"!=e.type?null:e.data}));async function o(){console.log("recalc"),console.log(n.value.weights),await Zs(n.value.weights)}const r=j(null);return I((async()=>{await l(),console.log("session.value"),console.log(n.value),n.value.weights&&(r.value=await Uo(n.value.weights))})),(e,a)=>(m(),C(N,null,[f(tt,{title:"Session",subtitle:"Detail Session"},{actions:g((()=>[h("button",{class:"btn",onClick:o},"recalc")])),_:1}),f(lt,null,{default:g((()=>[y(n)&&y(n).weights?(m(),C("div",jo,[h("div",null,[y(n).weights.man?(m(),b(So,{key:0,member:y(n).man,title:"mempelai pria",weights:y(n).weights.man},null,8,["member","weights"])):B("",!0)]),y(n).weights.woman?(m(),C("div",$o,[y(n).woman&&y(n).weights.woman?(m(),b(So,{key:0,member:y(n).woman,title:"mempelai wanita",weights:y(n).weights.woman},null,8,["member","weights"])):B("",!0)])):B("",!0),y(n).weights.photographer?(m(),C("div",qo,[y(n).photographer&&y(n).weights.photographer?(m(),b(So,{key:0,member:y(n).photographer,title:"fotografer",weights:y(n).weights.photographer},null,8,["member","weights"])):B("",!0)])):B("",!0)])):(m(),C("div",Co,Oo)),y(n)&&"DONE"==y(n).status?(m(),C("div",Do,[(m(!0),C(N,null,E(r.value,((e,a)=>(m(),C("div",Po,[h("div",Lo,[h("h1",Ao,V(a+1),1)]),h("div",null,[h("div",To,[h("img",{class:"w-16 h-16 md:w-20 md:h-20 mr-4",src:e.location.avatar},null,8,Mo),h("div",null,[h("h2",Bo,V(e.location.nama),1),h("a",{target:"_blank",href:`https://maps.google.com/?z=15&q=${e.location.latitude},${e.location.longitude}`,class:"text-underline"},V(e.location.latitude)+", "+V(e.location.longitude),9,Io),h("p",No,"Nilai Borda: "+V(e.borda),1)])])])])))),256))])):B("",!0)])),_:1})],64))}},Fo={class:"px-4 py-"},Jo={props:{token:String},setup(e){const a=e,t=R(),l=j("6282297726443"),s=M((()=>{const e=encodeURIComponent(`https://dedi-nubatonis.github.io/#/guest/${a.token}/token-input`);return console.log(`target = ${e}`),e}));function n(){const e=`https://api.whatsapp.com/send?phone=${l.value}&text=${s.value}`;window.open(e,"_blank")}return M((()=>"")),I((()=>{console.log(t)})),(e,a)=>{const t=q("q-input"),s=q("q-field");return m(),C(N,null,[f(tt,{title:"Kirim Token",subtitle:"Kirim Token kepada Pasangan Anda"}),f(lt,null,{default:g((()=>[h("div",Fo,[f(s,{label:"Masukan Nomor Pasangan"},{default:g((()=>[f(t,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e)},null,8,["modelValue"])])),_:1}),h("button",{onClick:n,class:"my-6 btn btn-primary"},"kirim")])])),_:1})],64)}}},Ro={class:"p-4"},zo={props:{id:String},setup(e){const a=e,t=M((()=>`/v1/api/sessions/${a.id}/photographer`)),{result:l,get:s}=ze({url:"/v1/api/photographers"}),n=U({photographer:null}),{status:o,put:r,onSuccess:i}=We({url:t,payload:n});i((e=>{alert("sukses mengubah data sesi")}));const u=M((()=>"data"==l.value.type?l.value.data:null)),c=M((()=>u.value?u.value.map((e=>({value:e._id,text:e.nama}))):[]));return I(s),(e,a)=>{const t=q("q-select"),l=q("q-field");return m(),C(N,null,[f(tt,{title:"Pilih Fotografer",subtitle:"Pilih Fotografer untuk Sesi"}),f(lt,null,{default:g((()=>[h("div",Ro,[f(l,{label:"Pilih Fotografer",class:"mb-4"},{default:g((()=>[f(t,{modelValue:y(n).photographer,"onUpdate:modelValue":a[0]||(a[0]=e=>y(n).photographer=e),options:y(c)},null,8,["modelValue","options"])])),_:1}),h("button",{onClick:a[1]||(a[1]=(...e)=>y(r)&&y(r)(...e)),class:"btn btn-primary"},"Simpan")])])),_:1})],64)}}};const Ko={class:"text-xl"},Wo=w("Selamat datang... Pasangan Anda "),Ho={class:"font-bold"},Yo=w(", mengirimkan permintaan penginputan data"),Go={class:"my-8"},Qo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xo={class:"flex flex-col justify-center"},Zo={key:0},er={class:"text-red-500 font-bold text-2xl"},ar={key:1},tr={class:"text-red-500 font-bold text-2xl"},lr=["disabled"],sr=w(" Simpan Bobot "),nr={props:{token:String},setup(e){const a=e,t=A(),l=T("notification.show"),s=T("guestUser"),n=T("guestSession"),o=T("sessionCreator");ie(a,"token");const u=j(""),{weights:c,weightDiff:d,lessThan100:p,moreThan100:v,totalWeigths:k}=function(){const e=U([{label:"jarak",key:"distance",value:1},{label:"transportasi",key:"transportation",value:1},{label:"harga",key:"price",value:1},{label:"tema",key:"theme",value:1},{label:"waktu",key:"waktu",value:1},{label:"jumlah spot",key:"numberOfSpots",value:1}]),a=M((()=>e.map((e=>e.value)).reduce(((e,a)=>e+a),0))),t=M((()=>Math.abs(a.value-100))),l=M((()=>a.value<100)),s=M((()=>a.value>100));return{weights:e,totalWeights:a,weightDiff:t,lessThan100:l,moreThan100:s}}(),{image:x,imageChangeHandler:w}=function(){const e=j(null);return{image:e,imageChangeHandler:async function(a){if(!a)throw new Error("file is undefined");const t=await Il(a);e.value=t}}}(),_=M((()=>{let e={};return c.forEach((a=>{e[a.key]=a.value})),e=i(r({},e),{nama:u.value,avatar:x.value}),e})),{updateSessionByToken:S,updateStatus:$,onSuccessUpdate:O}=function({token:e,payload:a}){const t=M((()=>`/v1/api/sessions/by-token/${y(e)}`)),{put:l,onSuccess:s,status:n}=We({url:t,payload:a});return{updateSessionByToken:l,updateStatus:n,onSuccessUpdate:s}}({token:n.value.token,payload:_});M((()=>{const e=y(sessionResult);return"error"==e.type&&e.response&&"404"==e.response.status}));const D=ln();return O((async e=>{if(e.man&&"spouse"==e.man.role?s.value=e.man:e.woman&&"spouse"==e.woman.role&&(s.value=e.woman),"READY"==e.status){await D(e)&&l({title:"Lokasi Photoshoot telah ditentukan",description:"Berdasarkan perhitungan sistem. Lokasi yang dipilih adalah Pantai Manikin",okLabel:"Lihat Detail",onOk:()=>{t.push(`/guest/${e.token}/detail`)}})}else l({title:"Berhasil disimpan",description:"Kami telah menyimpan data anda. Lokasi anda akan ditentukan secara otomatis ketika fotografer selesai menginput data",okLabel:"Lihat Detail",onOk:()=>{t.push(`/guest/${e.token}/detail`)}})})),I((async()=>{if(!n.value)return;const e=y(n);if(e.man&&"spouse"==e.man.role?tn({$session:e,$gender:"man",$weights:c}):e.woman&&"spouse"==e.woman.role&&tn({$session:e,$gender:"woman",$weights:c}),s.value){const e=y(s);u.value=e.nama}})),(e,a)=>{const t=q("q-input"),l=q("q-field"),s=q("file-input"),n=q("q-spinner");return m(),b(lt,null,{default:g((()=>[h("h1",Ko,[Wo,h("span",Ho,V(y(o).nama),1),Yo]),h("div",Go,[f(l,{label:"Nama",class:"mb-4"},{default:g((()=>[f(t,{type:"text",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e)},null,8,["modelValue"])])),_:1}),f(l,{label:"Avatar",class:"mb-4"},{default:g((()=>[f(s,{onChange:y(w)},null,8,["onChange"])])),_:1}),h("div",Qo,[(m(!0),C(N,null,E(y(c),(e=>(m(),b(l,{label:e.label,class:"mb-4"},{default:g((()=>[f(t,{type:"number",modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,max:100,min:0},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"])))),256))]),h("div",Xo,[y(v)?(m(),C("div",Zo,[h("h3",er,"Jumlah Bobot Lebih "+V(y(d)),1)])):y(p)?(m(),C("div",ar,[h("h3",tr,"Jumlah bobot Kurang "+V(y(d)),1)])):B("",!0),h("button",{disabled:y(p)||y(v),onClick:a[1]||(a[1]=(...e)=>y(S)&&y(S)(...e)),class:"btn btn-primary my-12 disabled:opacity-50"},["idle"==y($)?(m(),C(N,{key:0},[sr],64)):(m(),b(n,{key:1,class:"w-4 h-4"}))],8,lr)])])])),_:1})}}},or={class:"w-4/5 h-28 flex items-center mx-auto"},rr=h("h1",{class:"flex-grow font-black text-2xl"},[h("span",{class:"text-pink-600"},"quick"),w(" photography")],-1),ir={class:"hidden md:flex w-2/5 items-center justify-between"},ur=w("> "),cr={key:0,class:"flex flex-col text-white px-8"},dr={class:"py-6 bg-gray-100 text-center"},pr=w("login Admin"),mr={props:{token:String},setup(e){const a=ie(e,"token"),{session:t,loadSessionByToken:l,sessionResult:s,loadStatus:n}=function({token:e}){const a=M((()=>`/v1/api/sessions/by-token/${y(e)}`)),{get:t,result:l}=ze({url:a});return{session:M((()=>"data"==l.value.type?l.value.data:null)),sessionResult:l,loadSessionByToken:t}}({token:a}),o=j(null),r=M((()=>t?t.value.user:null));$("guestUser",o),$("guestSession",t),$("sessionCreator",r);const i=M((()=>{let e=[{path:"/",label:"home"}];const a=y(s);if("data"!=a.type)return e;const t=a.data;return t&&t.token&&(e=[...e,{path:`/guest/${t.token}/token-input`,label:"input"},{path:`/guest/${t.token}/token-survey`,label:"survey"},{path:`/guest/${t.token}/detail`,label:"detail"}]),e})),u=j(!1);function c(){u.value=!u.value}return I((async()=>{const e=await l();e&&(e.man&&"spouse"==e.man.role?o.value=e.man:e.woman&&"spouse"==e.woman.role&&(o.value=e.woman))})),(e,a)=>{const t=q("router-link"),l=q("q-spinner"),n=q("router-view");return m(),C(N,null,[h("nav",or,[rr,h("div",ir,[(m(!0),C(N,null,E(y(i),(e=>(m(),b(t,{class:"hover:text-pink-400 text-pink-700 font-bold",key:e.label,to:e.path},{default:g((()=>[w(V(e.label),1)])),_:2},1032,["to"])))),128)),ur]),h("button",{class:"md:hidden p-2",onClick:c},[f(y(J),{class:"w-6 h-6 text-black"})])]),u.value?(m(),C("nav",cr,[(m(!0),C(N,null,E(y(i),(e=>(m(),b(t,{class:"hover:text-pink-400 text-pink-800 font-bold text-xl text-left mb-4",key:e.label,to:e.path},{default:g((()=>[w(V(e.label),1)])),_:2},1032,["to"])))),128))])):B("",!0),"loading"==y(s).type?(m(),b(l,{key:1})):"data"==y(s).type?(m(),b(n,{key:2})):B("",!0),f(fa),h("div",dr,[f(t,{to:"/auth/login",class:"font-bold text-blue-600"},{default:g((()=>[pr])),_:1})])],64)}}},br={key:0,class:"grid grid-cols-1 gap-y-2 md:grid-cols-3"},gr={key:0},fr={key:1},hr={key:1,class:"flex items-center justify-center p-16 bg-gray-100"},yr=[h("div",{class:"text-xl font-bold text-gray-700"},"Data Bobot Belum Diinput Oleh User",-1)],vr={key:2},kr={class:"flex items-start justify-start my-12 px-4"},xr={class:"hidden md:block py-6 text-center"},wr={class:"font-bold text-2xl"},Vr={class:"flex"},_r=["src"],Sr={class:"text-xl font-bold"},Ur=["href"],jr={class:"font-bold"},$r={props:{session:Object},setup(e){const a=e,t=j(null);return I((async()=>{a.session.weights&&(t.value=await Uo(a.session.weights))})),(a,l)=>(m(),C(N,null,[e.session&&e.session.weights?(m(),C("div",br,[h("div",null,[e.session.weights.man?(m(),b(So,{key:0,member:e.session.man,title:"mempelai pria",weights:e.session.weights.man},null,8,["member","weights"])):B("",!0)]),e.session.weights.woman?(m(),C("div",gr,[e.session.woman&&e.session.weights.woman?(m(),b(So,{key:0,member:e.session.woman,title:"mempelai wanita",weights:e.session.weights.woman},null,8,["member","weights"])):B("",!0)])):B("",!0),e.session.weights.photographer?(m(),C("div",fr,[e.session.photographer&&e.session.weights.photographer?(m(),b(So,{key:0,member:e.session.photographer,title:"fotografer",weights:e.session.weights.photographer},null,8,["member","weights"])):B("",!0)])):B("",!0)])):(m(),C("div",hr,yr)),e.session&&"DONE"==e.session.status?(m(),C("div",vr,[(m(!0),C(N,null,E(t.value,((e,a)=>(m(),C("div",kr,[h("div",xr,[h("h1",wr,V(a+1),1)]),h("div",null,[h("div",Vr,[h("img",{class:"w-16 h-16 md:w-20 md:h-20 mr-4",src:e.location.avatar},null,8,_r),h("div",null,[h("h2",Sr,V(e.location.nama),1),h("a",{target:"_blank",href:`https://maps.google.com/?z=15&q=${e.location.latitude},${e.location.longitude}`,class:"text-underline"},V(e.location.latitude)+", "+V(e.location.longitude),9,Ur),h("p",jr,"Nilai Borda: "+V(e.borda),1)])])])])))),256))])):B("",!0)],64))}},qr={setup(e){const a=T("guestSession");return(e,t)=>(m(),C(N,null,[f(tt,{title:"Session",subtitle:"Detail Session"}),f(lt,null,{default:g((()=>[f($r,{session:y(a)},null,8,["session"])])),_:1})],64))}},Cr=["Apakah tampilan pada aplikasi ini menarik ?","Apakah tampilan menu pada aplikasi ini sesui dengan yang diharapkan ?","Apakah tampilan menu login pada aplikasi ini sesuai dengan yang diharapkan ?","Apakah tampilan menu pada aplikasi ini sesuai dengan yang diharapkan?","Apakah komposisi warna pada aplikasi ini menarik?","Apakah aplikasi ini sesuai dengan yang diharapkan ?","Apakah aplikasi ini pada saat dijalankan terdapat eror ?","Apakah aplikasi ini saat dijalankan tidak terdapat menu yang tidak berjalan ? ","Apakah aplikasi ini cocok diterapkan di tempat kerja?","Apakah aplikasi ini bersifat user friendly (mudah digunakan) ?"];const Or={key:0},Dr={class:"text-center font-bold text-2xl"},Pr={class:"flex items-center justify-center gap-x-2 my-6"},Lr={class:"flex justify-center items-center gap-x-2"},Ar=["disabled"],Tr={key:1,class:"w-2/3 mx-auto"},Mr=[h("h1",{class:"text-center text-2xl"},"Anda telah mengikuti survey. Terimakasih atas masukan anda...",-1)],Br={props:{id:String},setup(e){const a=ie(e,"id"),{survey:t,loadSurvey:l,updateSurvey:s,updateSurveyResult:n,answers:o}=function(e){const a=M((()=>{const a=y(e.userId);if(!a)throw new Error("unknown userId");return`/v1/api/survey/${a}`})),{get:t,result:l}=ze({url:a}),s=M((()=>"data"==l.value.type?l.value.data.survey:null)),n=U(Cr.map(((e,a)=>5))),o=M((()=>({answers:n}))),{post:r,result:i}=Re({url:a,payload:o});return{answers:n,surveyResult:l,survey:s,loadSurvey:t,updateSurvey:r,updateResult:i,questions:Cr}}({userId:a}),r=j(0),i=M((()=>0==r.value));M((()=>r.value==Cr.length-1));const u=M((()=>Cr[r.value])),c=M((()=>o[r.value]));async function d(){if(r.value==Cr.length-1)return await s(),await l(),void alert("sukses menyimpan data");r.value=r.value+1}function p(){r.value,r.value=r.value-1}return I(l),(e,a)=>y(t)&&y(t).length?(m(),C("div",Tr,Mr)):(m(),C("div",Or,[h("div",Dr,V(y(u)),1),h("div",Pr,[(m(),C(N,null,E(5,(e=>f(y(ye),{onClick:a=>function(e){o[r.value]=e}(e),class:ue(["w-16 h-16",e-1<y(c)?"text-yellow-500":"text-gray-200"])},null,8,["onClick","class"]))),64))]),h("div",Lr,[h("button",{disabled:y(i),onClick:p,class:"btn"},"kembali",8,Ar),h("button",{onClick:d,class:"btn btn-info"},"simpan")])]))}},Ir={key:1},Nr={setup(e){const a=T("guestUser"),t=M((()=>a.value?a.value._id:null));return(e,l)=>(m(),C(N,null,[f(tt,{title:"Survey",subtitle:"Bantu kami dengan menjawab pertanyaan dibawah ini"}),f(lt,null,{default:g((()=>[y(a)?(m(),b(Br,{key:0,id:y(t)},null,8,["id"])):(m(),C("div",Ir," Anda belum menginput data bobot "))])),_:1})],64))}},Er=h("h1",{class:"text-center font-bold text-xl md:text-3xl my-4"},"Presentase Jumlah Data Lokasi Yang Dipilih",-1),Fr={setup(e){const{get:a,result:t}=ze({url:"/v1/api/sessions/stat"}),l=M((()=>{if("data"!=t.value.type)return{labels:[],datasets:[]};return{labels:t.value.data.map((e=>e._id)),datasets:[{label:"Presentase Jumlah Lokasi Yang Dipilih",data:t.value.data.map((e=>e.total)),backgroundColor:["#000D6B","#9C19E0","#FF5DA2","#99DDCC","#9A0680"]}]}})),s=j({scales:{yAxes:[{ticks:{stepSize:5},gridLines:{display:!1}}]},plugins:{tooltip:{enabled:!0,callbacks:{footer:e=>{let a=0;return e[0].dataset.data.map((e=>{a+=Number(e)})),`Presentase data: ${(100*e[0].parsed/a).toFixed(2)+"%"}`}}}}});return I(a),(e,a)=>(m(),C(N,null,[f(tt,{title:"Dashboard",subtitle:"Rangkuman Session"}),f(lt,null,{default:g((()=>[Er,f(y(ve.PieChart),{chartData:y(l),options:s.value},null,8,["chartData","options"])])),_:1})],64))}},Jr={setup(e){const{currentUser:a}=Ha(),t=M((()=>a.value._id));return(e,a)=>(m(),C(N,null,[f(tt,{title:"Survey",subtitle:"Bantu kami dengan menjawab pertanyaan dibawah ini"}),f(lt,null,{default:g((()=>[f(Br,{id:y(t)},null,8,["id"])])),_:1})],64))}},Rr={class:"w-2/3 mx-auto"},zr={class:"text-center text-2xl font-bold"},Kr={class:"my-6"},Wr={class:"flex items-center border-b border-gray-200 py-4"},Hr={class:"w-1/4 font-bold"},Yr={class:"w-3/4 flex"},Gr={setup(e){const{result:a,get:t}=ze({url:"/v1/api/survey/result"}),l=M((()=>{if("data"!=a.value.type)return null;const e=a.value.data;let t=0;const l=e.length;let s=0;e.forEach((e=>{e.survey.forEach((e=>{s+=e,e>t&&(t=e)}))}));const n=15*t*l;console.log(`sk=${n}`),console.log(`sh=${s}`);return(s/n).toFixed(2)+"%"})),s=M((()=>a.value.data?a.value.data.map((e=>{const a=e.survey.reduce(((e,a)=>e+a),0);return r({ratio:a/60*100},e)})):[]));return I(t),(e,a)=>(m(),C(N,null,[f(tt,{title:"Survey",subtitle:"Hasil Survey User"}),f(lt,null,{default:g((()=>[h("div",Rr,[h("div",zr," Presentase Hasil Survey: "+V(y(l)),1),h("ul",Kr,[(m(!0),C(N,null,E(y(s),(e=>(m(),C("li",Wr,[h("div",Hr,V(e.nama),1),h("div",Yr,[h("div",{class:"bg-green-500 rounded h-4",style:F(`width: ${e.ratio.toFixed(2)}%`)},null,4)])])))),256))])])])),_:1})],64))}},Qr=h("h1",{class:"font-bold text-xl my-4"},"Informasi Akun Anda",-1),Xr={class:"w-4/5 p-4 border border-gray-300 rounded"},Zr={class:"mb-4"},ei=h("div",null,"Avatar",-1),ai=["src"],ti=[{path:"/",component:Wa},{path:"/pref",component:At},{path:"/auth/signup",component:Ze},{path:"/auth/signup_user",component:na},{path:"/auth/login",component:ga},{path:"/app",component:sl,children:[{path:"",component:Fr},{path:"account",component:{setup(e){const{currentUser:a,loadUser:t}=Ha(),l=U({nama:"",avatar:""});async function s(e){let a=e.target.files||e.dataTransfer.files;if(!a.length)return;const t=await Il(a[0]);l.avatar=t}M((()=>l.avatar?l.avatar:"Belum ada foto"));const{put:n,onSuccess:o,onError:r}=We({url:"/auth/me",payload:l});return o((async e=>{await t(),alert("sukses mengubah data user")})),r((e=>{alert("gagal mengubah data user")})),I((()=>{const e=y(a);l.nama=e.nama,l.avatar=e.avatar})),(e,a)=>{const t=q("q-input"),o=q("q-field"),r=q("file-input");return m(),C(N,null,[f(tt,{title:"Dashboard",subtitle:"Rangkuman Session"}),f(lt,null,{default:g((()=>[Qr,h("div",Xr,[f(o,{label:"Nama",class:"mb-4"},{default:g((()=>[f(t,{modelValue:y(l).nama,"onUpdate:modelValue":a[0]||(a[0]=e=>y(l).nama=e)},null,8,["modelValue"])])),_:1}),h("div",Zr,[ei,y(l).avatar?(m(),C("img",{key:0,src:y(l).avatar,class:"my-3 p-2 rounded"},null,8,ai)):B("",!0),f(r,{onChange:s})]),h("button",{onClick:a[1]||(a[1]=(...e)=>y(n)&&y(n)(...e)),class:"btn btn-primary my-2"},"simpan")])])),_:1})],64)}}}},{path:"survey",component:Jr},{path:"survey-result",component:Gr},{path:"dashboard",component:Fr},{path:"spots",component:ul},{path:"spots/create",component:gl},{path:"spots/:id",component:kl,props:!0},{path:"spots/:id/confirm-delete",component:xl,props:!0},{path:"spots/:id/update",component:Vl,props:!0},{path:"fotografer",component:Bl},{path:"fotografer/create",component:Fl},{path:"fotografer/:id/edit",component:Wl,props:!0},{path:"lokasi",component:os},{path:"lokasi/create",component:gs},{path:"lokasi/:id/edit",component:Ss,props:!0},{path:"lokasi/:id/detail",component:Xs,props:!0},{path:"weights",component:Sl},{path:"sessions/new",component:_n},{path:"sessions/:id",component:Eo,props:!0},{path:"sessions/:id/choose-photographer",component:zo,props:!0},{path:"session-send-wa/:token",component:Jo,props:!0},{path:"sessionv3/:id",component:xn,props:!0},{path:"session",component:so}]},{path:"/guest/:token",component:mr,props:!0,children:[{path:"token-input",component:nr},{path:"token-survey",component:Nr},{path:"detail",component:qr}]}],li=ke({history:xe(),routes:ti});const si={},ni={class:"font-medium text-lg text-gray-700"};si.render=function(e,a){return m(),C("h2",ni,[P(e.$slots,"default")])};const oi={class:"text-gray-600"},ri={props:{label:String},setup:e=>(a,t)=>(m(),C("div",null,[h("label",oi,V(e.label),1),P(a.$slots,"default")]))},ii={class:"flex flex-col"},ui=["value","type","max","min","readonly"],ci={key:0,class:"text-red-700 text-sm"},di={props:{modelValue:null,type:{type:String,required:!1,default:"text"},rules:{type:Array,required:!1,default:[]},min:{type:Number,required:!1},max:{type:Number,required:!1},readonly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e;function l(e){const l=e.target.value;"number"==t.type?a("update:modelValue",parseInt(l)):a("update:modelValue",l)}const s=M((()=>t.rules.find((e=>e(t.modelValue)))));return(a,t)=>(m(),C("div",ii,[h("input",{value:e.modelValue,onChange:l,type:e.type,max:e.max,min:e.min,readonly:e.readonly,class:"px-2 py-1 border-b-2 border-gray-300 focus:border-indigo-500 focus:border-b-3 focus:bg-white outline-none ring-none text-sm text-gray-800 py-1 transition-colors duration-300"},null,40,ui),y(s)?(m(),C("span",ci,V(y(s)),1)):B("",!0)]))}},pi={class:"flex flex-col"},mi=["value"],bi=["value"],gi={props:{modelValue:null,parseValue:{type:Boolean,default:!1},options:{type:Array,required:!1,default:[]}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e;function l(e){const l=e.target.value;let s=t.parseValue?parseInt(l):l;a("update:modelValue",s)}return(a,t)=>(m(),C("div",pi,[h("select",{value:e.modelValue,onChange:l,class:"border-b-2 border-gray-300 focus:border-indigo-500 focus:border-b-3 outline-none ring-none text-sm text-gray-800 py-1 transition-colors duration-300"},[(m(!0),C(N,null,E(e.options,(e=>(m(),C("option",{key:e.value,value:e.value},V(e.text),9,bi)))),128))],40,mi)]))}};const fi=["disabled"],hi={key:0},yi={key:1,class:"w-6 h-6",src:"/svg-loaders/bars.svg"},vi={props:{label:String,loading:Boolean,disabled:Boolean},setup(e){const a=e,t=M((()=>[a.loading||a.disabled?"opacity-50":""]));return(a,l)=>(m(),C("button",{class:ue(["px-2 py-4 bg-green-600 text-white text-center font-bold text-lg flex-grow flex justify-center",y(t)]),disabled:e.disabled,type:"button"},[e.loading?(m(),C("img",yi)):(m(),C("span",hi,V(e.label),1))],10,fi))}},ki={},xi={class:"p-4"};ki.render=function(e,a){return m(),C("div",xi,[P(e.$slots,"default")])};const wi={class:"flex items-center h-20 px-4 border-b border-gray-200"},Vi={class:"flex-grow"},_i={class:"font-medium text-lg"},Si={class:"font-medium text-sm text-gray-500"},Ui={props:{title:String,subtitle:String},setup:e=>(a,t)=>(m(),C("div",wi,[h("div",Vi,[h("h1",_i,V(e.title),1),h("h2",Si,V(e.subtitle),1)]),P(a.$slots,"actions")]))},ji={},$i={class:"py-12 flex items-center justify-center"},qi=[h("img",{class:"w-6 h-6",src:"/svg-loaders/bars.svg"},null,-1)];ji.render=function(e,a){return m(),C("div",$i,qi)};O("data-v-d7703986");const Ci={class:"flex items-center justify-center flex-grow"};D();const Oi={props:{size:{type:[Number,String],default:4}},setup(e){const a=e,t=M((()=>`w-${a.size} h-${a.size}`));return(e,a)=>(m(),C("div",Ci,[h("div",{class:ue(["bg-blue-600 p-2 rounded-full animate-bounce blue-circle mr-2",y(t)])},null,2),h("div",{class:ue(["bg-green-600 p-2 rounded-full animate-bounce green-circle mr-2",y(t)])},null,2),h("div",{class:ue(["bg-red-600 p-2 rounded-full animate-bounce red-circle",y(t)])},null,2)]))},__scopeId:"data-v-d7703986"},Di={class:"bg-gray-100 py-16 px-6 flex flex-col items-center justify-center"},Pi={class:"text-gray-700 text-xl text-center"},Li={class:"flex items-center py-4"},Ai={props:{name:String},emits:["delete","cancel"],setup:(e,{emit:a})=>(a,t)=>{const l=q("q-action-bar");return m(),C(N,null,[f(l,{title:e.name,subtitle:"hapus data"},{actions:g((()=>[h("button",{onClick:t[0]||(t[0]=e=>a.$emit("cancel"))},[f(y(Ve),{class:"w-8 h-8 text-gray-500"})])])),_:1},8,["title"]),h("div",Di,[f(y(we),{class:"text-yellow-600 my-2 h-24 w-24"}),h("h1",Pi,"Anda akan menghapus data "+V(e.name)+"?",1),h("div",Li,[h("button",{class:"bg-red-600 rounded text-white px-2 py-1 mr-2",onClick:t[1]||(t[1]=e=>a.$emit("delete"))}," lanjutkan "),h("button",{class:"bg-gray-100 border border-gray-300 rounded px-2 py-1",onClick:t[2]||(t[2]=e=>a.$emit("cancel"))}," batalkan ")])])],64)}},Ti={},Mi={class:"animate-spin -ml-1 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Bi=[h("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),h("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)];Ti.render=function(e,a){return m(),C("svg",Mi,Bi)};const Ii={class:"bg-red-300 p-8 rounded flex items-center justify-center"},Ni={class:"text-gray-900 text-2xl"},Ei={props:{message:String},setup:e=>(a,t)=>(m(),C("div",Ii,[h("h1",Ni,V(e.message),1)]))},Fi=h("i",{class:"fas fa-cloud-upload-alt fa-3x"},null,-1),Ji=["onChange"],Ri={key:0,class:"text-red-600"},zi={emits:["change","update:error"],setup(e,{emit:a}){const t=j(null),l=M((()=>{if(!t.value)return null;return y(t).size/1024<=1024?null:"Ukuran file terlalu besar. Harus kurang dari 1MB"}));async function s(e){t.value=e.currentTarget.files[0],await Se(),y(t),!l.value&&t.value&&a("change",t.value)}return(e,a)=>(m(),C("div",null,[Fi,h("input",{onChange:_e(s,["stop"]),type:"file"},null,40,Ji),y(l)?(m(),C("div",Ri,V(y(l)),1)):B("",!0)]))}};Ue.register(...je),$e(Ne).use(qe).use(li).component("q-page-header",si).component("q-field",ri).component("q-input",di).component("q-select",gi).component("q-form-btn",vi).component("q-pad-container",ki).component("q-action-bar",Ui).component("q-loading-pane",ji).component("q-loading",Oi).component("q-confirm-delete",Ai).component("q-spinner",Ti).component("q-not-found",Ei).component("file-input",zi).component("inline-svg",Ce).mount("#app");
